<?php $_tgl0="1.0\0560.0"; if (!class_exists("KoolScr\151\160ting",FALSE)) { class koolscripting { static function start() { ob_start(); return ""; } static function end() { $_tgO0=ob_get_clean(); $_tgl1=""; $_tgO1=new domdocument(); $_tgO1->loadxml($_tgO0); $_tgl2=$_tgO1->documentElement; $id=$_tgl2->getattribute("id"); $_tgO2=$_tgl2->nodeName; $id=($id == "") ? "dum\160": $id; if (class_exists($_tgO2,FALSE)) { eval ("\044".$id."\040= new\040".$_tgO2."('".$id."')\073"); $$id->loadxml($_tgl2); $_tgl1=$$id->render(); } else { $_tgl1.=$_tgO0; } return $_tgl1; } } } class _tgl3 { public static function _tgO3($_tgl4) { return md5($_tgl4); } public static function _tgO4() { $_tgl5=_tgl3::_tgO5("\134","\057",strtolower($_SERVER["S\103\122IPT_N\101\115E"])); $_tgl5=_tgl3::_tgO5(strrchr($_tgl5,"\057"),"",$_tgl5); $_tgl6=_tgl3::_tgO5("\134","\057",realpath(".")); $_tgO6=_tgl3::_tgO5($_tgl5,"",strtolower($_tgl6)); return $_tgO6; } public static function _tgO5($_tgl7,$_tgO7,$_tgl8) { return str_replace($_tgl7,$_tgO7,$_tgl8); } public static function _tgO8($_tgl9) { return _tgl3::_tgO5("\053"," ",urlencode($_tgl9)); } public static function _tgO9($_tgla,$_tgOa) { foreach ($_tgOa as $_tglb => $_tgOb) if (is_array($_tgOb)) { if (! isset ($_tgla[$_tglb])) $_tgla[$_tglb]=array(); $_tgla[$_tglb]=_tgl3::_tgO9($_tgla[$_tglb],$_tgOb); } else $_tgla[$_tglb]=$_tgOb; return $_tgla; } public static function _tglc($_tgOc,$_tgld,$_tgOd) { foreach ($_tgld as $_tglb => $_tgle) if ( isset ($_tgOd[$_tglb])) { if (is_string($_tgle)) $_tgOc->{ $_tgle}=$_tgOd[$_tglb]; else if (is_array($_tgle)) _tgl3::_tglc($_tgOc->{ $_tglb} ,$_tgle,$_tgOd[$_tglb]); } } public static function _tgOe($_tgOc,$_tglf,$_tgOd) { foreach ($_tglf as $_tglb => $_tgOf) if ( isset ($_tgOd[$_tglb])) { if (is_string($_tgOf)) $_tgOc->{ $_tgOf}($_tgOd[$_tglb]); else if (is_array($_tgOf)) _tgl3::_tgOe($_tgOc->{ $_tglb} ,$_tgOf,$_tgOd[$_tglb]); } } public static function _tglg() { header("C\157\156tent-\164\171pe: \164\145xt/ja\166\141scrip\164"); } public static function _tgOg() { echo "\166\141\162 _tgi\117\061=0;"; } public static function _tglh() { return exit (); } public static function _tgOh() { return _tgi10::$_tgi10; } public static function _tgOi( &$_tglj) { for ($_tgOj=0; $_tgOj<3; $_tgOj ++) $_tglj=_tgl3::_tgO5("\173".$_tgOj."}","",$_tglj); return TRUE; } } class _tgi11 { static $_tgi11=017; } class _tgi10 { static $_tgi10="\1730}<div \151\144\075'\173\151\144}' cl\141\163\163='\173\163\164yle\175\113TV' \163\164\171le='\173\167idth}\173\150\145ight\175\173overf\154\157w}'><u\154\040class\075\047ktvUL\040\173\156opad\144\151ng} \173\154\151nes}'\076\173subnod\145\163}</ul\076\173clien\164\163tate}\173\061}</di\166\076\1732}"; } class _tgi01 { static $_tgi01="<div\040\163\164yle=\047\146ont-fa\155\151\154y:Ar\151\141l;fon\164\055size\072\0610pt;b\141\143kgroun\144\055\143olor\072\043FEFF\104\106;color\072\142lack;d\151\163play:b\154\157ck;vis\151\142\151lity\072\166isibl\145\073\047><s\160\141\156 sty\154\145\075'f\157\156\164-fa\155\151\154y:Ar\151\141l;font\055\163ize:1\060\160t;fon\164\055weigh\164\072\142old\073\143\157lor\072\142lack;\144\151\163play\072\151nline\073\166isibi\154\151ty:vi\163\151\142le;\047\076KoolT\162\145eGrid\074\057span\076\040- Tri\141\154 v\145\162sion \173\166ersio\156\175 - Co\160\171right\040\050C) K\157\157lPHP \056\111nc -\040\074a st\171\154\145='f\157\156t-fam\151\154y:Ari\141\154;fon\164\055size:\061\060pt;d\151\163play\072\151nline\073\166isib\151\154ity:v\151\163ible\073\047 hre\146\075'htt\160\072//ww\167\056kool\160\150p.net\047\076www\056\153oolp\150\160.net<\057\141>. <\163\160an s\164\171le='\146\157nt-f\141\155ily:A\162\151al;c\157\154or:b\154\141ck;f\157\156t-si\172\145:10p\164\073disp\154\141y:in\154\151ne;v\151\163ib\151l\151ty:v\151\163ible\073\047>To\040\162emov\145\074/sp\141\156> th\151\163 me\163\163age,\040\160leas\145\040<a \163\164yle=\047\146ont\055\146ami\154\171:Ari\141\154;fo\156\164-siz\145\07210p\164\073dis\160\154ay:i\156\154ine\073\166isib\151\154ity\072\166isi\142\154e;' \150\162ef=\047\150ttp\072\057/ww\167\056koo\154\160hp.n\145\164/?m\157\144=pu\162\143hase\047\076pu\162\143hase\040\141 li\143\145nse\074/a>.\074/d\151\166>"; } if ( isset ($_GET[_tgl3::_tgO3("j\163")])) { _tgl3::_tglg(); ?> function _tgO(_tgo){return (_tgo!=null);}function _tgY(_tgy,_tgI){var _tgi=document.createElement(_tgy); _tgI.appendChild(_tgi); return _tgi; }function _tgA(_tga){return document.getElementById(_tga); }function _tgE(_tgo,_tge){if (!_tgO(_tge))_tge=1; for (var i=0; i<_tge; i++)_tgo=_tgo.parentNode; return _tgo; }function _tgU(_tgo,_tge){if (!_tgO(_tge))_tge=1; for (var i=0; i<_tge; i++)_tgo=_tgo.firstChild; return _tgo; }function _tgu(_tgo,_tge){if (!_tgO(_tge))_tge=1; for (var i=0; i<_tge; i++)_tgo=_tgo.nextSibling; return _tgo; }function _tgZ(){return (typeof(_tgiO1) === "undefined"); }function _tgz(_tgX,_tgx,_tgW,_tgw){if (_tgX.addEventListener){_tgX.addEventListener(_tgx,_tgW,_tgw); return true; }else if (_tgX.attachEvent){if (_tgw){return false; }else {var _tgV= function (){_tgW.apply(_tgX,[window.event]); };if (!_tgX["ref"+_tgx])_tgX["ref"+_tgx]=[]; else {for (var _tgv in _tgX["ref"+_tgx]){if (_tgX["ref"+_tgx][_tgv]._tgW === _tgW)return false; }}var _tgT=_tgX.attachEvent("on"+_tgx,_tgV); if (_tgT)_tgX["ref"+_tgx].push( {_tgW:_tgW,_tgV:_tgV } ); return _tgT; }}else {return false; }} ; function _tgt(_tgX,_tgx,_tgW,_tgw){if (_tgX.removeEventListener){_tgX.removeEventListener(_tgx,_tgW,_tgw); return true; }else if (_tgX.detachEvent){if (_tgX["ref"+_tgx]){for (var _tgv in _tgX["ref"+_tgx]){if (_tgX["ref"+_tgx][_tgv]._tgW === _tgW){_tgX.detachEvent("on"+_tgx,_tgX["ref"+_tgx][_tgv]._tgV); _tgX["ref"+_tgx][_tgv]._tgW=null; _tgX["ref"+_tgx][_tgv]._tgV=null; delete _tgX["ref"+_tgx][_tgv]; return true; }}}return false; }else {return false; }}function _tgS(_tgs){return _tgs.className; }function _tgR(_tgs,_tgr){_tgs.className=_tgr; }function _tgQ(_tgo,_tgq){if (_tgo.className.indexOf(_tgq)<0){var _tgP=_tgo.className.split(" "); _tgP.push(_tgq); _tgo.className=_tgP.join(" "); }}function _tgp(_tgo,_tgq){if (_tgo.className.indexOf(_tgq)>-1){_tgN(_tgq,"",_tgo);var _tgP=_tgo.className.split(" "); _tgo.className=_tgP.join(" "); }}function _tgN(_tgn,_tgM,_tgm){_tgR(_tgm,_tgS(_tgm).replace(_tgn,_tgM)); }function _tgL(_tgm,_tgq){for (var i=0; i<_tgm.childNodes.length; i++)if (_tgm.childNodes[i].className.indexOf(_tgq)>-1)return _tgm.childNodes[i]; }function _tgl(_tgo,_tgK){_tgo.style.display=(_tgK)?"block": "none"; }function _tgk(_tgo){return (_tgo.style.display!="none"); }function _tgJ(_tgm){var _tgj=""; for (var _tgH in _tgm){switch (typeof(_tgm[_tgH])){case "string":if (_tgO(_tgm.length))_tgj+="'"+_tgm[_tgH]+"',"; else _tgj+="'"+_tgH+"':'"+_tgm[_tgH]+"',"; break; case "number":if (_tgO(_tgm.length))_tgj+=_tgm[_tgH]+","; else _tgj+="'"+_tgH+"':"+_tgm[_tgH]+","; break; case "object":if (_tgO(_tgm.length))_tgj+=_tgJ(_tgm[_tgH])+","; else _tgj+="'"+_tgH+"':"+_tgJ(_tgm[_tgH])+","; break; }}if (_tgj.length>0)_tgj=_tgj.substring(0,_tgj.length-1); _tgj=(_tgO(_tgm.length))?"["+_tgj+"]": "{"+_tgj+"}"; if (_tgj=="{}")_tgj="null"; return _tgj; }var _tgh= false; function _tgG(_tgg){_tgF=(window.event)?event.keyCode:_tgg.keyCode; if (_tgF==17){_tgh= true; }}function _tgf(_tgg){_tgF=(window.event)?event.keyCode:_tgg.keyCode; if (_tgF==17){_tgh= false; }}_tgz(document,"keyup",_tgf, false); _tgz(document,"keydown",_tgG, false); function _tgD(_tgd){if (_tgd.pageX || _tgd.pageY){return {_tgC:_tgd.pageX,_tgc:_tgd.pageY } ; }return {_tgC:_tgd.clientX+document.body.scrollLeft-document.body.clientLeft,_tgc:_tgd.clientY+document.body.scrollTop-document.body.clientTop } ; }var _tgB= {_tgb:function (){var _tgo0=document.cookie.split("; "); for (var i=0; i<_tgo0.length; i++){var _tgO0=_tgo0[i].split("="); this[_tgO0[0]]=_tgO0[1]; }} ,_tgl0:function (_tgH,_tgi0,_tgI0){if (_tgI0){var _tgo1=new Date(); _tgo1.setTime(_tgo1.getTime()+(_tgI0*60*60*1000)); var _tgO1="; expires="+_tgo1.toGMTString(); }else var _tgO1=""; document.cookie=_tgH+"="+_tgi0+_tgO1+"; path=/"; this[_tgH]=_tgi0; } ,_tgl1:function (_tgH){ this._tgl0(_tgH,"",-1); this[_tgH]=undefined; }} ; _tgB._tgb(); function _tgi1(_tgI1){ this.NodeId=_tgI1; this._tga=_tgI1; }_tgi1.prototype= {getText:function (){return this._tgo2("Text").innerHTML; } ,setText:function (_tgO2){ this._tgo2("Text").innerHTML=_tgO2; return this ; } ,getImageSrc:function (){var _tgl2=this._tgo2("Image"); return (_tgO(_tgl2)?_tgl2.src: ""); } ,setImageSrc:function (_tgi2){var _tgl2=this._tgo2("Image"); if (_tgO(_tgl2))_tgl2.src=_tgi2; return this ; } ,disableSelect:function (_tgI2){ (_tgI2)?this._tgo3("select"): this._tgO3("select"); return this ; } ,disableDrag:function (_tgI2){ (_tgI2)?this._tgo3("drag"): this._tgO3("drag"); return this ; } ,disableDrop:function (_tgI2){ (_tgI2)?this._tgo3("drop"): this._tgO3("drop"); return this ; } ,disableEdit:function (_tgI2){ (_tgI2)?this._tgo3("edit"): this._tgO3("edit"); return this ; } ,_tgo3:function (_tgl3){var _tgi3=this.getTree(); var _tgI3=_tgi3._tgo4(); var _tgO4=_tgI3[_tgl3+"DisableIds"]; if (_tgO4.join(" ").indexOf(this._tga)<0)_tgO4.push(this._tga); _tgi3._tgl4(_tgI3); } ,_tgO3:function (_tgl3){var _tgi3=this.getTree(); var _tgI3=_tgi3._tgo4(); var _tgO4=_tgI3[_tgl3+"DisableIds"]; for (var i in _tgO4)if (typeof _tgO4[i]!="function")if (_tgO4[i]==this._tga){_tgO4.splice(i,1); break; }_tgi3._tgl4(_tgI3); } ,getData:function (_tgF){if (_tgZ())return this ; var _tgi4=_tgU(_tgA(this._tga)); var _tgI4=null; for (var i=0; i<_tgi4.childNodes.length; i++)if (_tgi4.childNodes[i].nodeName=="INPUT")if (_tgi4.childNodes[i].type=="hidden")_tgI4=_tgi4.childNodes[i]; if (_tgO(_tgI4)){var _tgo5=eval("__="+_tgI4.value); var _tgi0=_tgo5["data"][_tgF]; return (_tgO(_tgi0)?decodeURIComponent(_tgi0): ""); }else {return ""; }} ,addData:function (_tgF,_tgi0){var _tgi4=_tgU(_tgA(this._tga)); var _tgI4=null; var _tgo5= { "url": "","data":{}} ; for (var i=0; i<_tgi4.childNodes.length; i++)if (_tgi4.childNodes[i].nodeName=="INPUT")if (_tgi4.childNodes[i].type=="hidden")_tgI4=_tgi4.childNodes[i]; if (_tgO(_tgI4)){var _tgo5=eval("__="+_tgI4.value); }else {_tgI4=_tgY("input",_tgi4); _tgI4.type="hidden"; }_tgo5["data"][_tgF]=_tgi0; _tgI4.value=_tgJ(_tgo5); } ,select:function (){var _tgi4=_tgU(_tgA(this._tga)); if (_tgS(_tgi4).indexOf("Selected")<0){if (!this.getTree()._tgO5("OnBeforeSelect", { "NodeId": this._tga } ))return; _tgQ(_tgi4,"ktvSelected"); var _tgi3=this.getTree(); var _tgl5=_tgi3._tgo4(); if (!_tgO(_tgl5.selectedIds))_tgl5.selectedIds=new Array(); _tgl5.selectedIds.push(this._tga); _tgi3._tgl4(_tgl5); this.getTree()._tgO5("OnSelect", { "NodeId": this._tga } ); }return this ; } ,unselect:function (){var _tgi4=_tgU(_tgA(this._tga)); if (_tgZ())return this ; if (_tgS(_tgi4).indexOf("Selected")>0){if (!this.getTree()._tgO5("OnBeforeUnselect", { "NodeId": this._tga } ))return; _tgp(_tgi4,"ktvSelected"); var _tgi3=this.getTree(); var _tgl5=_tgi3._tgo4(); for (var i=0; i<_tgl5.selectedIds.length; i++)if (_tgl5.selectedIds[i]==this._tga){_tgl5.selectedIds.splice(i,1); break; }_tgi3._tgl4(_tgl5); this.getTree()._tgO5("OnUnselect", { "NodeId": this._tga } ); }return this ; } ,expand:function (){var _tgi5=_tgA(this._tga); var _tgI5=_tgu(_tgU(_tgi5)); if (_tgO(_tgI5)){if (!this.getTree()._tgO5("OnBeforeExpand", { "NodeId": this._tga } ))return; var _tgo6=this._tgo2("Plus"); if (_tgO(_tgo6))_tgN("Plus","Minus",_tgo6); _tgl(_tgI5,1); if (this.getTree()._tgO6){var _tgl6=new Array(); var _tgi6=this._tga; while (_tgi6.indexOf(".root")<0){_tgl6.push(_tgi6); _tgi6=(new _tgi1(_tgi6)).getParentId(); }_tgl6.push(_tgi6); this.getTree()._tgI6(_tgl6); } this.getTree()._tgo7(this._tga,1); this.getTree()._tgO5("OnExpand", { "NodeId": this._tga } ); }else {var _tgi4=_tgU(_tgA(this._tga)); var _tgI4=null; for (var i=0; i<_tgi4.childNodes.length; i++)if (_tgi4.childNodes[i].nodeName=="INPUT")_tgI4=_tgi4.childNodes[i]; if (_tgO(_tgI4)){var _tgo5=eval("__="+_tgI4.value); if (_tgO(_tgo5.url) && _tgo5.url!=""){_tgo5.url=decodeURIComponent(_tgo5.url); if (!this.getTree()._tgO5("OnBeforeExpand", { "NodeId": this._tga } ))return; this.loadSubTree(_tgo5.url); _tgo5.loading=1; _tgI4.value=_tgJ(_tgo5); }}}return this ; } ,_tgO7:function (){var tree=this.getTree(); var _tgi5=_tgA(this._tga); var _tgI5=_tgu(_tgU(_tgi5)); if (_tgO(_tgI5)){var _tgo6=this._tgo2("Plus"); if (_tgO(_tgo6))_tgN("Plus","Minus",_tgo6); _tgl(_tgI5,1); tree._tgo7(this._tga,1); }else {var _tgi4=_tgU(_tgA(this._tga)); var _tgI4=null; for (var i=0; i<_tgi4.childNodes.length; i++)if (_tgi4.childNodes[i].nodeName=="INPUT")_tgI4=_tgi4.childNodes[i]; if (_tgO(_tgI4)){var _tgo5=eval("__="+_tgI4.value); if (_tgO(_tgo5.url) && _tgo5.url!=""){_tgo5.url=decodeURIComponent(_tgo5.url); this.loadSubTree(_tgo5.url); _tgo5.loading=1; _tgI4.value=_tgJ(_tgo5); }}}var _tgl7=this.getChildIds(); for (var i=0; i<_tgl7.length; i+=1)tree.getNode(_tgl7[i])._tgO7(); return this ; } ,collapse:function (){var _tgi5=_tgA(this._tga); var _tgI5=_tgu(_tgU(_tgi5)); if (_tgZ())return this ; if (_tgO(_tgI5)){if (!this.getTree()._tgO5("OnBeforeCollapse", { "NodeId": this._tga } ))return; var _tgi7=this._tgo2("Minus"); if (_tgO(_tgi7))_tgN("Minus","Plus",_tgi7); _tgl(_tgI5,0); this.getTree()._tgo7(this._tga,0); this.getTree()._tgO5("OnCollapse", { "NodeId": this._tga } ); }return this ; } ,_tgI7:function (){var tree=this.getTree(); var _tgi5=_tgA(this._tga); var _tgI5=_tgu(_tgU(_tgi5)); if (_tgZ())return this ; if (_tgO(_tgI5)){var _tgi7=this._tgo2("Minus"); if (_tgO(_tgi7))_tgN("Minus","Plus",_tgi7); _tgl(_tgI5,0); tree._tgo7(this._tga,0); }var _tgl7=this.getChildIds(); for (var i=0; i<_tgl7.length; i+=1)tree.getNode(_tgl7[i])._tgI7(); return this ; } ,getChildIds:function (){var _tgI5=_tgu(_tgU(_tgA(this._tga))); var _tgo8=new Array(); if (_tgO(_tgI5)){for (var i=0; i<_tgI5.childNodes.length; i++)if (_tgI5.childNodes[i].nodeName=="LI")_tgo8.push(_tgI5.childNodes[i].id); }return _tgo8; } ,getParentId:function (){return _tgE(_tgA(this._tga),2).id; } ,getTree:function (){var _tgi6=this._tga; while (_tgi6.indexOf(".root")<0){_tgi6=(new _tgi1(_tgi6)).getParentId(); }return eval(_tgi6.replace(".root","")); } ,moveToAbove:function (_tgO8){if ((new _tgi1(_tgO8).getParentId()==this.getParentId())){var _tgi5=_tgA(this._tga); var _tgl8=_tgA(_tgO8); _tgE(_tgi5).insertBefore(_tgi5,_tgl8); (new _tgi1(this.getParentId()))._tgi8(); }return this ; } ,moveToBelow:function (_tgO8){if ((new _tgi1(_tgO8).getParentId()==this.getParentId())){var _tgi5=_tgA(this._tga); var _tgl8=_tgA(_tgO8); var _tgI5=_tgE(_tgi5); if (_tgI5.lastChild==_tgl8)_tgI5.appendChild(_tgi5); else _tgI5.insertBefore(_tgi5,_tgu(_tgl8)); (new _tgi1(this.getParentId()))._tgi8(); }return this ; } ,attachTo:function (_tgO8){var _tgI8=_tgO8; var _tgo9= false; while (_tgI8.indexOf(".root")<0){_tgI8=(new _tgi1(_tgI8)).getParentId(); if (_tgI8==this._tga)_tgo9= true; }if (_tgo9){return false; }var _tgi6=this.getParentId(); if (_tgi6==_tgO8){return false; }var _tgi5=_tgA(_tgO8); var _tgI5=_tgu(_tgU(_tgi5)); if (!_tgO(_tgI5)){_tgI5=_tgY("ul",_tgi5); _tgR(_tgI5,"ktvUL"); (new _tgi1(_tgO8)).getTree()._tgo7(_tgO8,1); }_tgI5.appendChild(_tgA(this._tga)); (new _tgi1(_tgO8))._tgi8(); (new _tgi1(_tgi6))._tgi8(); return true; } ,loadSubTree:function (_tgO9){if (typeof koolajax!="undefined" && _tgO(koolajax)){if (_tgZ())return this ; var _tgl9=this._tgo2("Loading"); if (!_tgO(_tgl9)){if (!this.getTree()._tgO5("OnBeforeSubTreeLoad", { "NodeId": this._tga,"Url":_tgO9 } ))return; var _tgi4=_tgU(_tgA(this._tga)); _tgl9=_tgY("span",_tgi4); _tgR(_tgl9,"ktvLoading"); koolajax.load(_tgO9,eval("__=function(ct){"+this.getTree()._tga+".OSTLD('"+this._tga+"',ct);}")); }}return this ; } ,_tgi9:function (_tgI9){var _tgi5=_tgA(this._tga); var _tgi3=this.getTree(); var _tgI5=_tgu(_tgU(_tgi5)); if (_tgO(_tgI5)){ this.getTree()._tgt(_tgI5); }else {_tgI5=_tgY("ul",_tgi5); _tgR(_tgI5,"ktvUL"); }_tgI5.innerHTML+=_tgI9; var _tgl9=this._tgo2("Loading"); if (_tgO(_tgl9))_tgU(_tgi5).removeChild(_tgl9); _tgi3._tgz(_tgI5); this._tgi8(); _tgi3._tgO5("OnSubTreeLoad", { "NodeId": this._tga } ); var _tgi4=_tgU(_tgi5); var _tgI4=null; for (var i=0; i<_tgi4.childNodes.length; i++)if (_tgi4.childNodes[i].nodeName=="INPUT")_tgI4=_tgi4.childNodes[i]; if (_tgO(_tgI4)){var _tgo5=eval("__="+_tgI4.value); if (_tgO(_tgo5.loading) && _tgo5.loading==1){ delete _tgo5.loading; _tgI4.value=_tgJ(_tgo5); var _tgoa=this._tgo2("PM"); _tgN("Plus","Minus",_tgoa); _tgi3._tgo7(this._tga,1); _tgi3._tgO5("OnExpand", { "NodeId": this._tga } ); _tgi3.rECSFC(); }}} ,addChildNode:function (_tgO8,_tgO2,_tgl2){var _tgOa=_tgA(this._tga); var _tgI5=_tgu(_tgU(_tgOa)); if (!_tgO(_tgI5)){_tgI5=_tgY("ul",_tgOa); _tgR(_tgI5,"ktvUL");}var _tgi5=_tgY("li",_tgI5); _tgi5.id=_tgO8; _tgR(_tgi5,"ktvLI"); var _tgla=_tgY("div",_tgi5); _tgR(_tgla,"ktvBot"); if (_tgO(_tgl2)){var _tgia=_tgY("img",_tgla); _tgR(_tgia,"ktvImage"); _tgia.src=_tgl2; _tgia.alt=""; }_tgO2=(_tgO(_tgO2))?_tgO2: ""; var _tgIa=_tgY("span",_tgla); _tgR(_tgIa,"ktvText"); _tgIa.innerHTML=_tgO2; _tgz(_tgIa,"click",_tgob, false); _tgz(_tgIa,"mouseover",_tgOb, false); _tgz(_tgIa,"mouseout",_tglb, false); _tgz(_tgIa,"mousedown",_tgib, false); _tgz(_tgIa,"mouseup",_tgIb, false); this._tgi8(); return this ; } ,_tgoc:function (_tgO8){ (new _tgi1(_tgO8)).unselect(); var _tgl8=_tgA(_tgO8); var _tgI5=_tgE(_tgl8); this.getTree()._tgt(_tgl8); _tgI5.removeChild(_tgl8); this._tgi8(); } ,removeAllChildren:function (){var _tgi5=_tgA(this._tga); var _tgI5=_tgu(_tgU(_tgi5)); if (_tgO(_tgI5)){ this.getTree()._tgt(_tgI5); _tgi5.removeChild(_tgI5); this._tgi8(); }} ,_tgi8:function (_tgOc){var _tgO4=this.getChildIds(); for (var i=0; i<_tgO4.length; i++){var _tgi5=_tgA(_tgO4[i]); try {var _tgi4=_tgU(_tgi5); }catch (_tglc){}_tgp(_tgi5,"ktvFirst"); _tgp(_tgi5,"ktvLast"); _tgN("ktvTop","ktvMid",_tgi4); _tgN("ktvBot","ktvMid",_tgi4); if (i==0){_tgQ(_tgi5,"ktvFirst"); _tgN("ktvMid","ktvTop",_tgi4); }if (i==_tgO4.length-1){_tgQ(_tgi5,"ktvLast"); _tgN("ktvMid","ktvBot",_tgi4); _tgN("ktvTop","ktvBot",_tgi4); }}var _tgic=this._tgo2("PM"); if (_tgO4.length==0){if (_tgO(_tgic)){_tgt(_tgic,"click",_tgIc, false); _tgE(_tgic).removeChild(_tgic); }var _tgi5=_tgA(this._tga); var _tgI5=_tgu(_tgU(_tgi5)); if (_tgO(_tgI5))_tgi5.removeChild(_tgI5); }else {if (!_tgO(_tgic)){var _tgi4=_tgU(_tgA(this._tga)); var _tgI5=_tgu(_tgi4); _tgic=_tgY("span",_tgi4); _tgi4.insertBefore(_tgic,_tgU(_tgi4)); _tgR(_tgic,"ktvPM ktv"+(_tgk(_tgI5)?"Minus": "Plus")); _tgz(_tgic,"click",_tgIc, false); }}} ,isExpanded:function (){return _tgO(this._tgo2("Minus")); } ,isSelected:function (){var _tgi4=_tgU(_tgA(this._tga)); return (_tgS(_tgi4).indexOf("Selected")>0);} ,startEdit:function (_tgi0){if (_tgZ())return this ; if (!this.getTree()._tgO5("OnBeforeStartEdit", { "NodeId": this._tga } ))return; var _tgO2=this._tgo2("Text"); _tgi4=_tgU(_tgA(this._tga)); _tgl(_tgO2,0); var _tgI4=_tgY("input",_tgi4); _tgz(_tgI4,"blur",_tgod, false); _tgz(_tgI4,"keypress",_tgOd, false); _tgR(_tgI4,"ktvEdit"); _tgI4.value=_tgO(_tgi0)?_tgi0:_tgO2.innerHTML; _tgI4.focus(); _tgI4.select(); this.getTree()._tgO5("OnStartEdit", { "NodeId": this._tga } ); return this ; } ,endEdit:function (_tgld){if (!this.getTree()._tgO5("OnBeforeEndEdit", { "NodeId": this._tga } ))return; var _tgI4=this._tgo2("Edit"); var _tgO2=this._tgo2("Text"); _tgt(_tgI4,"blur",_tgod, false); _tgt(_tgI4,"keypress",_tgOd, false); if (!_tgO(_tgld))_tgld= true; if (_tgld)_tgO2.innerHTML=_tgI4.value; _tgO2.style.display=""; _tgE(_tgI4).removeChild(_tgI4); this.getTree()._tgO5("OnEndEdit", { "NodeId": this._tga } ); return this ; } ,_tgo2:function (_tgq){var _tgi5=_tgA(this._tga); var _tgid=_tgL(_tgU(_tgi5),"ktv"+_tgq); return _tgid; } ,_tgId:function (_tgg){var _tgi3=this.getTree(); if (_tgi3._tgoe){var _tgOe=this.isSelected(); var _tgl5=_tgi3._tgo4(); var _tgle=" "+_tgl5.selectDisableIds.join(" "); if (_tgle.indexOf(" "+this._tga)<0){if (!_tgh || !_tgi3._tgie){_tgi3.unselectAll(); } this.select(); }if (_tgOe && _tgi3._tgIe){var _tgl5=_tgi3._tgo4(); var _tgof=" "+_tgl5.editDisableIds.join(" "); if (_tgof.indexOf(" "+this._tga)<0){ this.startEdit(); }}}} ,_tgOf:function (_tgg,_tgld){ this.endEdit(_tgld); } ,_tgIf:function (_tgg){if (this.isExpanded())this.collapse(); else this.expand(); } ,_tgog:function (_tgg){var _tgi4=_tgU(_tgA(this._tga)); _tgQ(_tgi4,"ktvOver"); if (_tgOg && this._tglg()){_tgQ(_tgi4,"ktvDrop"); }} ,_tgig:function (_tgg){var _tgi4=_tgU(_tgA(this._tga)); _tgp(_tgi4,"ktvOver"); if (_tgOg && this._tglg()){_tgp(_tgi4,"ktvDrop"); }} ,_tglg:function (){if (_tgZ())return false; var _tgi3=this.getTree(); var _tgO4=" "+_tgi3._tgo4().dropDisableIds.join(" "); return (_tgi3._tgIg && _tgO4.indexOf(" "+this._tga)<0); } ,_tgoh:function (_tgg){if (_tgOg && this._tglg()){var _tgi4=_tgU(_tgA(this._tga)); _tgp(_tgi4,"ktvDrop"); if (!this.getTree()._tgO5("OnBeforeDrop", { "NodeId": this._tga,"DragNodeId":_tgOh } ))return; var _tglh= false; if (this._tga!=_tgOh){_tglh=(new _tgi1(_tgOh)).attachTo(this._tga); } this.getTree()._tgO5("OnDrop", { "NodeId": this._tga,"DragNodeId":_tgOh,"Succeed":_tglh } ); }} ,_tgih:function (){if (_tgZ())return false; var _tgi3=this.getTree(); var _tgO4=" "+_tgi3._tgo4().dragDisableIds.join(" "); return (_tgi3._tgIg && _tgO4.indexOf(" "+this._tga)<0); } ,_tgIh:function (_tgg){var _tgi4=_tgU(_tgA(this._tga)); var _tgla=_tgi4.cloneNode( true); var _tgoi=_tgL(_tgla,"ktvPM"); if (_tgO(_tgoi))_tgla.removeChild(_tgoi); var _tgOi=_tgY("div",document.body); _tgOi.id="__"+this._tga; var _tgli=_tgS(_tgA(this.getTree()._tga)); _tgR(_tgOi,_tgli);_tgQ(_tgla,"ktvDrag"); _tgOi.style.position="absolute"; _tgOi.appendChild(_tgla); var _tgii=_tgD(_tgg); _tgOi.style.top=_tgii._tgc+"px"; _tgOi.style.left=(_tgii._tgC+5)+"px"; this.getTree()._tgO5("OnDrag", { "NodeId": this._tga } ); } ,_tgIi:function (_tgg){var _tgOi=_tgA("__"+this._tga); var _tgii=_tgD(_tgg); _tgOi.style.top=_tgii._tgc+"px"; _tgOi.style.left=(_tgii._tgC+5)+"px"; } ,_tgoj:function (_tgg){var _tgOi=_tgA("__"+this._tga); document.body.removeChild(_tgOi); }};function KoolTreeView(_tga,_tgO6,_tgoe,_tgie,_tgIg,_tgIe,_tgOj,_tglj,_tgij){ this._tga=_tga; this._tgie=_tgie; this._tgoe=_tgoe; this._tgIg=_tgIg; this._tgIe=_tgIe; this._tgO6=_tgO6; this._tgOj=_tgOj.toLowerCase(); this._tglj=_tglj; this._tgIj=new Array(); _tgA(_tga+".clientState").value=_tgij; this._tgb(); }KoolTreeView.prototype= {getSelectedIds:function (){var _tgij=this._tgo4(); return (_tgO(_tgij.selectedIds))?_tgij.selectedIds: (new Array()); } ,unselectAll:function (){var _tgO4=this.getSelectedIds(); for (var i=0; i<_tgO4.length; i++)(new _tgi1(_tgO4[i])).unselect(); return this ; } ,removeNode:function (_tgO8){var _tgok=this.getNode(this.getNode(_tgO8).getParentId()); _tgok._tgoc(_tgO8); return this ; } ,getNode:function (_tgO8){return new _tgi1(_tgO8); } ,expandAll:function (){if (_tgZ())return this ; this._tgO5("OnBeforeExpandAll", { "NodeId": this._tga+".root" } ); var _tgOk=_tgA(this._tga+".root"); var _tglk=_tgOk.getElementsByTagName("ul"); for (var i=0; i<_tglk.length; i++)if (_tgS(_tglk[i]).indexOf("ktvUL")>-1){_tgl(_tglk[i],1); var _tgi4=_tgU(_tgE(_tglk[i])); var _tgoa=_tgL(_tgi4,"ktvPM"); _tgN("Plus","Minus",_tgoa); } this._tgO5("OnExpandAll", { "NodeId": this._tga+".root" } ); return this ; } ,deepExpandAll:function (){if (_tgZ())return this ; this._tgO5("OnBeforeDeepExpandAll", { "NodeId": this._tga+".root" } ); this.getNode(this._tga+".root")._tgO7(); this._tgO5("OnDeepExpandAll", { "NodeId": this._tga+".root" } ); return this ; } ,collapseAll:function (){if (_tgZ())return this ; this._tgO5("OnBeforeCollapseAll", { "NodeId": this._tga+".root" } ); this._tgI6(new Array()); this._tgO5("OnCollapseAll", { "NodeId": this._tga+".root" } ); return this ; } ,deepCollapseAll:function (){if (_tgZ())return this ; this._tgO5("OnBeforeDeepCollapseAll", { "NodeId": this._tga+".root" } ); this.getNode(this._tga+".root")._tgI7(); this._tgO5("OnDeepCollapseAll", { "NodeId": this._tga+".root" } ); return this ; } ,_tgI6:function (_tgl6){if (_tgZ())return this ; var _tgik=""; if (_tgO(_tgl6))_tgik=_tgl6.join(" "); var _tgOk=_tgA(this._tga+".root"); var _tglk=_tgOk.getElementsByTagName("ul"); for (var i=0; i<_tglk.length; i++){var _tgO8=_tgE(_tglk[i]).id; if (_tgS(_tglk[i]).indexOf("ktvUL")>-1 && _tgik.indexOf(_tgO8)<0){_tgl(_tglk[i],0); var _tgi4=_tgU(_tgE(_tglk[i])); var _tgoa=_tgL(_tgi4,"ktvPM"); _tgN("Minus","Plus",_tgoa); }}} ,_tgo4:function (){var _tgIk=_tgA(this._tga+".clientState"); var _tgij=eval("__="+_tgIk.value); return _tgij; } ,_tgl4:function (_tgij){var _tgIk=_tgA(this._tga+".clientState"); _tgIk.value=_tgJ(_tgij); } ,OSTLD:function (_tgO8,_tgI9){ (new _tgi1(_tgO8))._tgi9(_tgI9); } ,_tgz:function (_tgol){var _tgll=_tgol.getElementsByTagName("li"); for (var i=0; i<_tgll.length; i++)if (_tgS(_tgll[i]).indexOf("ktvLI")!=-1){_tgi4=_tgU(_tgll[i]); _tgic=_tgL(_tgi4,"ktvPM"); if (_tgO(_tgic))_tgz(_tgic,"click",_tgIc, false); _tgIa=_tgL(_tgi4,"ktvText"); _tgz(_tgIa,"click",_tgob, false); _tgz(_tgIa,"mouseover",_tgOb, false); _tgz(_tgIa,"mouseout",_tglb, false); _tgz(_tgIa,"mousedown",_tgib, false); _tgz(_tgIa,"mouseup",_tgIb, false); }} ,_tgt:function (_tgol){var _tgll=_tgol.getElementsByTagName("li"); for (var i=0; i<_tgll.length; i++)if (_tgS(_tgll[i]).indexOf("ktvLI")!=-1){_tgi4=_tgU(_tgll[i]); _tgic=_tgL(_tgi4,"ktvPM"); if (_tgO(_tgic))_tgt(_tgic,"click",_tgIc, false); _tgIa=_tgL(_tgi4,"ktvText"); _tgt(_tgIa,"click",_tgob, false); _tgt(_tgIa,"mouseover",_tgOb, false); _tgt(_tgIa,"mouseout",_tglb, false); _tgt(_tgIa,"mousedown",_tgib, false); _tgt(_tgIa,"mouseup",_tgIb, false); }} ,_tgb:function (){var _tgi3=document.getElementById(this._tga); _tgi3.onselectstart=_tgil; this._tgz(_tgi3); setTimeout(this._tga+".rECSFC()",0); } ,rECSFC:function (){var _tgIl=""; switch (this._tgOj){case "onpage":var _tgom=window.location.href.indexOf("?"); _tgIl=(_tgom<0)?window.location.href:window.location.href.substring(0,_tgom)+"_"+this._tga+"_opcl"; break; case "crosspage":_tgIl=this._tga+"_opcl"; break; case "none":default:return; break; }var _tgO2=_tgB[_tgIl]; _tgO2=_tgO(_tgO2)?_tgO2: "{}"; var _tgOm=eval("__="+_tgO2); var _tgll=_tgA(this._tga).getElementsByTagName("li"); for (var i=0; i<_tgll.length; i++)if (_tgS(_tgll[i]).indexOf("ktvLI")!=-1){if (_tgO(_tgOm[_tgll[i].id])){var _tgIm=this.getNode(_tgll[i].id); if (_tgOm[_tgIm._tga]==1 && !_tgIm.isExpanded()){_tgIm.expand(); }else if (_tgOm[_tgIm._tga]==0 && _tgIm.isExpanded()){_tgIm.collapse(); }}}} ,_tgo7:function (_tgO8,_tgon){var _tgIl=""; switch (this._tgOj){case "onpage":var _tgom=window.location.href.indexOf("?"); _tgIl=((_tgom<0)?window.location.href:window.location.href.substring(0,_tgom))+"_"+this._tga+"_opcl"; break; case "crosspage":_tgIl=this._tga+"_opcl"; break; case "none":default:return; break; }var _tgO2=_tgB[_tgIl]; _tgO2=_tgO(_tgO2)?_tgO2: "{}"; var _tgOm=eval("__="+_tgO2); _tgOm[_tgO8]=_tgon; _tgB._tgl0(_tgIl,_tgJ(_tgOm),this._tglj); } ,registerEvent:function (_tgH,_tgOn){if (_tgZ())return this ; this._tgIj[_tgH]=_tgOn; } ,_tgO5:function (_tgH,_tgIn){if (_tgZ())return true; return (_tgO(this._tgIj[_tgH]))?this._tgIj[_tgH](this,_tgIn): true; }};function _tgIc(_tgg){ (new _tgi1(_tgE(this,2).id))._tgIf(_tgg); }function _tgob(_tgg){ (new _tgi1(_tgE(this,2).id))._tgId(_tgg); }function _tgOb(_tgg){ (new _tgi1(_tgE(this,2).id))._tgog(_tgg); }function _tglb(_tgg){ (new _tgi1(_tgE(this,2).id))._tgig(_tgg); }function _tgod(_tgg){ (new _tgi1(_tgE(this,2).id))._tgOf(_tgg); }function _tgOd(_tgg){var _tgF=(window.event)?event.keyCode:_tgg.keyCode; if (_tgF==13 || _tgF==27){ (new _tgi1(_tgE(this,2).id))._tgOf(_tgg,(_tgF==13)); if (_tgF==13){if (_tgg.stopPropagation){_tgg.stopPropagation(); _tgg.preventDefault(); }else {event.cancelBubble= true; event.returnValue= false; }return false; }}}var _tgoo=0,_tgOo,_tgOg,_tgOh; var _tgIo= true; function _tgib(_tgg){if ((new _tgi1(_tgE(this,2).id))._tgih(_tgg)){if (_tgg.preventDefault)_tgg.preventDefault(); _tgIo= false; _tgOh=_tgE(this,2).id; _tgOo=_tgD(_tgg); _tgoo=1; _tgOg= false; _tgz(document,"mousemove",_tgop, false); _tgz(document,"mouseup",_tgOp, false); if (_tgg.stopPropagation!=null)_tgg.stopPropagation(); else event.cancelBubble= true; }}function _tgop(_tgg){if (_tgoo==1 || _tgoo==2){if (_tgOg){ (new _tgi1(_tgOh))._tgIi(_tgg); }else {var _tgii=_tgD(_tgg); if (Math.abs(_tgii._tgC-_tgOo._tgC)>10 || Math.abs(_tgii._tgc-_tgOo._tgc)>10){_tgOg= true; (new _tgi1(_tgOh))._tgIh(_tgg); }}}_tgoo=2; }function _tgOp(_tgg){if (_tgoo==1){}if (_tgoo==2){if (_tgOg){ (new _tgi1(_tgOh))._tgoj(_tgg); _tgOg= false; }}_tgt(document,"mousemove",_tgop, false); _tgt(document,"mouseup",_tgOp, false); _tgIo= true; }function _tgIb(_tgg){ (new _tgi1(_tgE(this,2).id))._tgoh(_tgg); }function _tgil(){if (_tgh || !_tgIo)return false; }if (typeof(__KTVInits)!="undefined" && _tgO(__KTVInits)){for (var i=0; i<__KTVInits.length; i++){__KTVInits[i](); }}KoolPHP= {recursiveMerge:function (_tglp,_tgip){var _tgIp=typeof _tglp,_tgoq=typeof _tgip; if (_tglp === null || _tgIp === "undefined")_tglp=_tgip; else if (_tglp instanceof Array && _tgip instanceof Array){for (var i=0; i<_tgip.length; i+=1)_tglp[i]=KoolPHP.recursiveMerge(_tglp[i],_tgip[i]); }else if (_tgoq === "object" && _tgIp === "object"){for (var _tgOq in _tgip)if (_tgip.hasOwnProperty(_tgOq)){var _tglq=typeof _tgip[_tgOq]; if (_tglq !== "object" || _tgip[_tgOq] === null)_tglp[_tgOq]=_tgip[_tgOq]; else _tglp[_tgOq]=KoolPHP.recursiveMerge(_tglp[_tgOq],_tgip[_tgOq]); }}else _tglp=_tgip; return _tglp; } ,_tgiq:{_merge:function (_object){for (var _tgH in _object)if (_object.hasOwnProperty(_tgH))this[_tgH]=_object[_tgH]; return this ; } ,_tgIq:function (_tgor){alert(this[_tgor]); } ,_tgOr: "koolObject",_tga:null,_tglr:function (_tga){ this._tga=_tga; } ,_tgir:function (){return this._tga; } ,_tgIr:function (){alert(this._tga+" "+this._tgOr); } ,_tgos:function (_tgOs){var _tgI4=KoolPHP._domObj(this._tgir()+_tgOs); return JSON.parse(_tgI4.value); } ,_tgls:function (_tgOs,value){var _tgI4=KoolPHP._domObj(this._tgir()+_tgOs); _tgI4.value=JSON.stringify(value); } ,_tgis:function (){var _tgIs=this._tgos("_viewstate"); if (KoolPHP._isEmpty(_tgIs))_tgIs= {} ; return _tgIs; } ,_tgot:function (_tgIs){ this._tgls("_viewstate",_tgIs); }} ,htmlProperty:{_tgOt: "",_tglt: "",name:function (_tgOq){ this._tgOt=_tgOq; return this ; } ,value:function (_tgit){ this._tglt=_tgit; return this ; }} ,htmlElement:{_tgIt: "<{tag} {properties} {styles}>{content}</{tag}>",_tgou: "",_tgOu: "",_tglu: "",_tgiu: "",initProperties:function (){ this._tgIu= {} ; this._tgov= {} ; this._tgOv=[]; } ,tag:function (s){ this._tgou=s; return this ; } ,content:function (s){ this._tgOu=s; return this ; } ,text:function (s){ this._tgiu=s; return this ; } ,setInnerHtml:function (s){ this._tglu=s; return this ; } ,addProperty:function (_tgOq,_tgit){if (!this._tgIu[_tgOq])this._tgIu[_tgOq]=[]; this._tgIu[_tgOq].push(_tgit); return this ; } ,setProperty:function (_tgOq,_tgit){ this._tgIu[_tgOq]=[_tgit]; return this ; } ,removeProperty:function (_tgOq){ this._tgIu[_tgOq]=[]; return this ; } ,addStyle:function (_tgOq,_tgit){if (!this._tgov[_tgOq])this._tgov[_tgOq]=[]; this._tgov[_tgOq].push(_tgit); return this ; } ,setStyle:function (_tgOq,_tgit){ this._tgov[_tgOq]=[_tgit]; return this ; } ,removeStyle:function (_tgOq){ this._tgov[_tgOq]=[]; return this ; } ,addChildElement:function (_tgit){ this._tgOv.push(_tgit); return this ; } ,getPropertiesString:function (){var _tglv=""; for (var p in this._tgIu)if (this._tgIu.hasOwnProperty(p)){var s=""; for (var i=0; i<this._tgIu[p].length; i+=1){s+=" "+this._tgIu[p][i]; }if (s !== "")_tglv+=p+"=\""+s.trim()+"\""; }return _tglv.trim(); } ,getStylesString:function (){var _tgiv=""; for (var p in this._tgov)if (this._tgov.hasOwnProperty(p)){var s=""; for (var i=0; i<this._tgov[p].length; i+=1){s+=" "+this._tgov[p][i]; }if (s !== "")_tgiv+=p+"=\""+s.trim()+"\""; }return _tgiv.trim(); } ,_tgIv:function (){var _tgow=this._tgIt; _tgow=_tgow.replace("{tag}",this._tgou); var s=this.getPropertiesString(); _tgow=_tgow.replace("{properties}",s); _tgow=_tgow.replace("{styles}",this.getStylesString()); var _tgOw=this._tgOu; for (var i=0; i<this._tgOv.length; i+=1){var s=this._tgOv[i]._tgIv(); _tgOw+=s; }_tgow=_tgow.replace("{content}",_tgOw); return _tgow; } ,getDomElement:function (){if (KoolPHP._notDefined(this._tglw))this._tglw=this.createDomElement(); return this._tglw; } ,createDomElement:function (){var _tgiw=document.createElement(this._tgou); for (var p in this._tgIu)if (this._tgIu.hasOwnProperty(p)){var _tgit=this._tgIu[p]; var s=""; for (var i=0; i<_tgit.length; i+=1)s+=" "+_tgit[i]; s=s.trim(); switch (p){case "id":_tgiw.id=s; break; case "class":_tgiw.className=s; break; default:_tgiw.setAttribute(p,s); }}for (var p in this._tgov)if (this._tgov.hasOwnProperty(p)){var _tgit=this._tgov[p]; var s=""; for (var i=0; i<_tgit.length; i+=1)s+=" "+_tgit[i]; _tgiw.style[p]=s; }if (this._tgiu)_tgiw.text=this._tgiu; if (this._tgOu)_tgiw.textContent=this._tgOu; if (this._tglu)_tgiw.innerHTML=this._tglu; for (var i=0; i<this._tgOv.length; i+=1)_tgiw.appendChild(this._tgOv[i].createDomElement()); this._tglw=_tgiw; return _tgiw; }} ,newProperty:function (_tgOq,_tgit){var p=KoolPHP._new(KoolPHP.htmlProperty); p.name(_tgOq).value(_tgit); return p; } ,newHtmlElement:function (){return KoolPHP._new(KoolPHP.htmlElement); } ,newTable:function (){var _tgIw=KoolPHP.newHtmlElement().tag("table"); return _tgIw; } ,newTr:function (){var _tgIw=KoolPHP.newHtmlElement().tag("tr"); return _tgIw; } ,newTh:function (){var _tgIw=KoolPHP.newHtmlElement().tag("th"); return _tgIw; } ,newTd:function (){var _tgIw=KoolPHP.newHtmlElement().tag("td"); return _tgIw; } ,newTextInput:function (){var _tgIw=KoolPHP.newHtmlElement().tag("input").addProperty("type","text"); return _tgIw; } ,newSpan:function (){var _tgIw=KoolPHP.newHtmlElement().tag("span"); return _tgIw; } ,newSelect:function (){var _tgIw=KoolPHP.newHtmlElement().tag("select"); return _tgIw; } ,newOption:function (){var _tgIw=KoolPHP.newHtmlElement().tag("option"); return _tgIw; } ,newCheckbox:function (){var _tgIw=KoolPHP.newHtmlElement().tag("input").addProperty("type","checkbox"); return _tgIw; } ,newButton:function (){var _tgIw=KoolPHP.newHtmlElement().tag("input").addProperty("type","button").addStyle("margin","2px 2px 2px 2px").addStyle("padding","1px 6px 1px 6px"); return _tgIw; } ,newDiv:function (){var _tgIw=KoolPHP.newHtmlElement().tag("div"); return _tgIw; } ,newLink:function (){var _tgIw=KoolPHP.newHtmlElement().tag("link"); return _tgIw; } ,newLinkCSS:function (){var _tgIw=KoolPHP.newHtmlElement().tag("link").addProperty("rel","stylesheet"); return _tgIw; } ,_new:function (_object){var _tgox= function (){for (var p in this ){if (!this.hasOwnProperty(p)){if (this[p] instanceof Array){ this[p]=KoolPHP._cloneArray(this[p]); }else if (typeof this[p] === "object")this[p]=KoolPHP._cloneObject(this[p]); else this[p]=this[p]; if (p === "initProperties" && typeof this[p] === "function"){ this.initProperties(); }}}} ; _tgox.prototype=_object; return new _tgox(); } ,_newObject:function (_tgOx){var _newObject=this._new(this._tgiq); _newObject._merge(_tgOx); return _newObject; } ,_getClassedParentId:function (_tglx,_tgix){while (_tglx && _tglx.className.indexOf(_tgix)<0){_tglx=_tglx.parentNode; }if (_tglx)return _tglx.id; else return null; } ,_utf8_decode:function (_tgIx){var _tgoy=[],i=0,_tgOy=0,_tgly=0,_tgiy=0,_tgIy=0; _tgIx+=""; while (i<_tgIx.length){_tgly=_tgIx.charCodeAt(i); if (_tgly<128){_tgoy[_tgOy++]=String.fromCharCode(_tgly); i++; }else if (_tgly>191 && _tgly<224){_tgiy=_tgIx.charCodeAt(i+1); _tgoy[_tgOy++]=String.fromCharCode(((_tgly&31)<<6)|(_tgiy&63)); i+=2; }else {_tgiy=_tgIx.charCodeAt(i+1); _tgIy=_tgIx.charCodeAt(i+2); _tgoy[_tgOy++]=String.fromCharCode(((_tgly&15)<<12)|((_tgiy&63)<<6)|(_tgIy&63)); i+=3; }}return _tgoy.join(""); } ,_base64_decode:function (data){var _tgoz="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="; var _tglp,_tgip,_tgOz,_tglz,_tgiz,_tgIz,_tgo10,_tgO10,i=0,_tgOy=0,_tgl10="",_tgoy=[]; if (!data){return data; }data+=""; do {_tglz=_tgoz.indexOf(data.charAt(i++)); _tgiz=_tgoz.indexOf(data.charAt(i++)); _tgIz=_tgoz.indexOf(data.charAt(i++)); _tgo10=_tgoz.indexOf(data.charAt(i++)); _tgO10=_tglz<<18|_tgiz<<12|_tgIz<<6|_tgo10; _tglp=_tgO10>>16&255; _tgip=_tgO10>>8&255; _tgOz=_tgO10&255; if (_tgIz==64){_tgoy[_tgOy++]=String.fromCharCode(_tglp); }else if (_tgo10==64){_tgoy[_tgOy++]=String.fromCharCode(_tglp,_tgip); }else {_tgoy[_tgOy++]=String.fromCharCode(_tglp,_tgip,_tgOz); }}while (i<data.length); _tgl10=_tgoy.join(""); _tgl10=this._utf8_decode(_tgl10); return _tgl10; } ,_addEventHandler:function (_tgi10,_tgI10,_tgo11){if (_tgi10.addEventListener)_tgi10.addEventListener(_tgI10,_tgo11, false); else if (_tgi10.attachEvent)_tgi10.attachEvent("on"+_tgI10,_tgo11); } ,_domObj:function (_tga){return document.getElementById(_tga); } ,_isEmpty:function (_tgO11){if (typeof _tgO11 === "number" || typeof _tgO11 === "function")return false; if (this._notDefined(_tgO11))return true; if (_tgO11.length>0)return false; if (_tgO11.length === 0)return true; for (var _tgl11 in _tgO11){if (hasOwnProperty.call(_tgO11,_tgl11))return false; }return true; } ,_defined:function (_object){return (_object !== null && typeof _object !== "undefined"); } ,_notDefined:function (_object){return (_object === null || typeof _object === "undefined"); } ,_cloneArray:function (_tgi11){return _tgi11.slice(0); } ,_cloneObject:function (_object){return JSON.parse(JSON.stringify(_object)); }} ; KoolTreeGridJS= {_tgI11:{_tgo12:function (){var tree=this ; var visible= true; while (tree.parent){tree=tree.parent; if (KoolPHP._notDefined(tree.meta.expand))tree.meta.expand= true; visible=visible && tree.meta.expand; if (!visible)return false; }return true; } ,children: [] } ,_tgO12:{initProperties:function (){ this._tgl12= {} ; this._tgi12= {} ; this._tgI12=[]; } ,_tgo13:function (_tgO13){var tree=KoolPHP._new(KoolTreeGridJS._tgI11); tree.id=_tgO13.id; tree.row=KoolPHP._cloneObject(_tgO13.row); tree.meta=KoolPHP._cloneObject(_tgO13.meta); var id=(tree.id === "root")?this._tgl13:tree.id; this._tgl12[id]=_tgO13; this._tgi12[id]=tree; this._tgI12.push(id); for (var i=0; i<_tgO13.children.length; i+=1){var _tgi13=this._tgo13(_tgO13.children[i]); _tgi13.parent=tree; tree.children.push(_tgi13); }return tree; } ,_tgI13:function (){ this._tgIs=this._tgis(); this.data=this._tgos("_data"); this.setting=this.data.setting; var _tgo14=this.setting,_tgO14=_tgo14.ktvId,_tgl14=_tgO14+".root"; this._tgl13=_tgl14; } ,_tgi14:function (){var _tgo14=this.setting,_tgI14=this._tgir(); var _tgo15=KoolPHP._domObj(_tgo14.divId); var _tgO15,_tgl15,_tgi15,_tgI15,_tgo16,_tgO16,_tgl16,_tgI4,_tgi16,_tgI16,id,tree; _tgo16=this.setting.columns; _tgO15=KoolPHP.newTable().addProperty("id",_tgI14+"_table").addProperty("class","ktg_table"); if (_tgo14.width)_tgO15.addStyle("width",_tgo14.width); _tgl15=KoolPHP.newTr().addProperty("id",_tgI14+"_th").addProperty("class","ktg_header ktvText"); for (var i=0; i<_tgo16.length; i+=1){if (_tgo16[i].visible){var _tgo17=!KoolPHP._isEmpty(_tgo16[i].headerText)?_tgo16[i].headerText:_tgo16[i].field; _tgi15=KoolPHP.newTh().content(_tgo17); if (_tgo16[i].width)_tgi15.addStyle("width",_tgo16[i].width); _tgl15.addChildElement(_tgi15); }}_tgO15.addChildElement(_tgl15); for (var _tgO17=0; _tgO17<this._tgI12.length; _tgO17+=1){id=this._tgI12[_tgO17]; tree=this._tgi12[id]; _tgl16=tree.row; _tgi16=tree.meta?tree.meta:{} ; _tgl15=KoolPHP.newTr().addProperty("id",_tgI14+"_tr_"+id).addProperty("class","ktvText"); if (_tgO17 === 0){_tgO16=this.data.treeViewHtml; _tgI15=KoolPHP.newTd().addProperty("id",this._tgir()+"_td_ktv").addProperty("class","td_ktv").setInnerHtml(_tgO16); _tgl15.addChildElement(_tgI15); }for (var i=1; i<_tgo16.length; i+=1){if (_tgo16[i].visible){var field=_tgo16[i].field; var value=_tgl16[field]; if (_tgi16.rowEdit === true || _tgi16.rowEdit && _tgi16.rowEdit[field]){var _tgl17="text"; if (_tgi16.rowEdit[field])_tgl17=_tgi16.rowEdit[field].type; if (_tgl17 === "select"){var select=KoolPHP.newSelect().addProperty("class","ktvTextSelect"); var options=_tgi16.rowEdit[field].options; for (var _tgOq=0; _tgOq<options.length; _tgOq+=1){var option=KoolPHP.newOption().content(options[_tgOq]); if (value === options[_tgOq])option.addProperty("selected", true); select.addChildElement(option); }_tgI15=KoolPHP.newTd().addChildElement(select); }else if (_tgl17 === "checkbox"){var _tgi17=KoolPHP.newCheckbox().addProperty("class","ktvTextCheckbox"); if (typeof value === "string")value=(value.toLowerCase() === "true"); if (value)_tgi17.addProperty("checked","checked"); _tgI15=KoolPHP.newTd().addChildElement(_tgi17); }else {_tgI4=KoolPHP.newTextInput().addProperty("value",value).addProperty("class","ktvTextInput").addStyle("width","100%"); _tgI15=KoolPHP.newTd().addChildElement(_tgI4).addStyle("padding-right","7px"); }_tgI15.addStyle("padding-left","0px"); }else {_tgI16=KoolPHP.newSpan().content(value); _tgI15=KoolPHP.newTd().addChildElement(_tgI16); }_tgl15.addChildElement(_tgI15); }}_tgO15.addChildElement(_tgl15); }_tgo15.appendChild(_tgO15.createDomElement()); } ,render:function (){ this.initProperties(); this._tgI13(); this._tgI11=this._tgo13(this.data.tree); this._tgi14(); } ,reRender:function (){var _tgo14=this.setting; var _tgo15=KoolPHP._domObj(_tgo14.divId); _tgo15.removeChild(_tgo15.firstChild); this.initProperties(); this._tgI11=this._tgo13(this.data.tree); this._tgi14(); this._tgI17._tgb(); this.init(); } ,getOriginalTree:function (){return KoolPHP._cloneObject(this.data.tree); } ,getOriginalTreeData:function (){return KoolPHP._cloneObject(this.data.tree); } ,_tgo18:function (_tgO13){ this.data.tree=_tgO13; return this ; } ,_tgO18:function (tree,_tgl18){var id=(tree.id === "root")?this._tgl13:tree.id; _tgl18[id]=tree; for (var i=0; i<tree.children.length; i+=1){ this._tgO18(tree.children[i],_tgl18); }} ,getCurrentTree:function (){var tree,_tgl18= {} ,columns,_tgi18,id,_tgI18,tree,tr,td,text,_tgI14=this._tgir(); _tgI18=KoolPHP._cloneObject(this.data.tree); this._tgO18(_tgI18,_tgl18); for (var i=0; i<this._tgI12.length; i+=1){id=this._tgI12[i]; tree=_tgl18[id]; tr=KoolPHP._domObj(_tgI14+"_tr_"+id); td=tr.firstChild; if (id === this._tgl13)td=td.nextSibling; columns=this.setting.columns; for (var _tgO17=1; _tgO17<columns.length; _tgO17+=1){if (columns[_tgO17].visible){_tgi18=td.firstChild; if (_tgi18.tagName.toLowerCase() === "span")text=_tgi18.textContent; else if (_tgi18.tagName.toLowerCase() === "input"){if (_tgi18.type === "text")text=_tgi18.value; else if (_tgi18.type === "checkbox")text=_tgi18.checked; }else if (_tgi18.tagName.toLowerCase() === "select")text=_tgi18.value; tree.row[columns[_tgO17].field]=text; td=td.nextSibling; }}}return _tgI18; } ,getCurrentTreeData:function (){return this.getCurrentTree(); } ,treeDataToSetting:function (tree,_tgo19,_tgO19,_tgl19){var setting; var type=tree.row[_tgl19].trim().toLowerCase(); if (KoolPHP._isEmpty(tree.children)){setting=tree.row[_tgO19]; if (type === "array" || type === "number" || type === "bool")setting=eval(setting); }else {setting=(type === "array")?[]:{} ; for (var i=0; i<tree.children.length; i+=1){var _tgi13=tree.children[i]; var _tgi19=this.treeDataToSetting(_tgi13,_tgo19,_tgO19,_tgl19); if (type === "array")setting[i]=_tgi19; else setting[_tgi13.row[_tgo19]]=_tgi19; }}return setting; } ,treeDataToPHPArrayStr:function (tree,_tgo19,_tgO19,_tgl19,_tgI19){var s="",_tgo1a,value,_tgIw,_tgO1a="   ",pre=""; _tgIw=""; for (var _tgO17=0; _tgO17<_tgI19; _tgO17+=1)_tgIw+=_tgO1a; var type=tree.row[_tgl19].trim().toLowerCase(); _tgo1a=tree.row[_tgo19]; value=tree.row[_tgO19]; pre="\""+_tgo1a+"\" => "; if (KoolPHP._isEmpty(tree.children)){if (type === "number" || type === "bool"){value=eval(value); s+=pre+value+",\n"; }else if (type === "array")s+=pre+value+",\n"; else s+=pre+"\""+value+"\",\n"; }else {for (var i=0; i<tree.children.length; i+=1){var _tgi13=tree.children[i]; var _tgl1a; var _tgi1a=_tgi13.row[_tgl19].trim().toLowerCase(); _tgl1a=this.treeDataToPHPArrayStr(_tgi13,_tgo19,_tgO19,_tgl19,_tgI19+1); if (_tgi1a === "object" || (_tgi1a === "array" && !KoolPHP._isEmpty(_tgi13.children))){if (type === "array")_tgl1a="array(\n"+_tgl1a+_tgIw+"),\n"; else _tgl1a="\""+_tgi13.row[_tgo19]+"\" => array(\n"+_tgl1a+_tgIw+"),\n"; }s+=_tgIw; s+=_tgl1a; }}if (_tgI19 === 2)s=_tgO1a+"array(\n"+s+_tgO1a+")\n"; return s; } ,treeDataToPHPSettingStr:function (tree,_tgo19,_tgO19,_tgl19,_tgI19,pre,index){var s="",_tgo1a,value,_tgIw; var type=tree.row[_tgl19].trim().toLowerCase(); _tgo1a=tree.row[_tgo19]; value=tree.row[_tgO19]; if (_tgI19 === 2)_tgIw=pre; else if (KoolPHP._defined(index))_tgIw=pre+"["+index+"]"; else _tgIw=pre+"[\""+_tgo1a+"\"]"; if (KoolPHP._isEmpty(tree.children)){if (type === "number" || type === "bool"){value=eval(value); s=_tgIw+" = "+value+";\n"; }else if (type === "array")s=_tgIw+" = "+value+";\n"; else s=_tgIw+" = "+"\""+value+"\";\n"; }else {for (var i=0; i<tree.children.length; i+=1){var _tgi13=tree.children[i]; var _tgI1a; if (type === "array")_tgI1a=this.treeDataToPHPSettingStr(_tgi13,_tgo19,_tgO19,_tgl19,_tgI19+1,_tgIw,i); else _tgI1a=this.treeDataToPHPSettingStr(_tgi13,_tgo19,_tgO19,_tgl19,_tgI19+1,_tgIw); s+=_tgI1a; }}return s; } ,setStyle:function (style){var _tgo1b=this.setting; var _tgO1b=KoolPHP._domObj(_tgo1b.divId); _tgO1b.className=style+"KTG"; this._tgl1b(); } ,_tgl1b:function (){var _tgo1b=this.setting,id,row,tree,li,tr,td,span,div,visible,className,_tgi1b=0,_tgI1b,_tgo1c,_tgO1c,treeIndent,rootIndent,_tgl1c=[],_tgI14=this._tgir(); for (var i=0; i<this._tgI12.length; i+=1){id=this._tgI12[i]; tree=this._tgi12[id]; row=tree.row; span=(i === 0)?KoolPHP._domObj(id+"_text"):KoolPHP._domObj(_tgI14+"_"+id+"_text"); div=span.parentNode.parentNode; li=div.parentNode; tr=KoolPHP._domObj(_tgI14+"_tr_"+id); visible=tree._tgo12(); tr.style.display=visible?"": "none"; _tgl1c.push(visible); if (visible){className=["ktg_row","ktg_altRow"]; this._tgi1c(div,className,_tgi1b); this._tgi1c(tr,className,_tgi1b); treeIndent=(KoolPHP._defined(_tgo1b.treeIndent))?_tgo1b.treeIndent: 12; rootIndent=(KoolPHP._defined(_tgo1b.rootIndent))?_tgo1b.rootIndent: 20; _tgI1b=span.getAttribute("level"); _tgo1c=rootIndent; _tgo1c+=_tgI1b<=1?_tgI1b*treeIndent: (_tgI1b-1)*treeIndent; _tgO1c=(_tgo1c-20)+"px 0px"; div.style.backgroundPosition=_tgO1c; li.style.backgroundPosition=_tgO1c; div.style.paddingLeft=_tgo1c+"px"; span.style.height="auto"; _tgi1b+=1; }}tr=KoolPHP._domObj(_tgI14+"_tr_"+this._tgl13); td=tr.firstChild; td.rowSpan=_tgi1b; for (var i=0; i<this._tgI12.length; i+=1)if (_tgl1c[i]){id=this._tgI12[i]; span=(i === 0)?KoolPHP._domObj(id+"_text"):KoolPHP._domObj(_tgI14+"_"+id+"_text"); tr=KoolPHP._domObj(_tgI14+"_tr_"+id); if (id !== this._tgl13){span.style.height=tr.offsetHeight+"px"; }else {td=tr.firstChild.nextSibling; span.style.height=td.offsetHeight-1+"px"; }}} ,_tgI1c:function (_tgo1d,name){var s=_tgo1d.className; var _tgO1d=new RegExp("(?:^|\\s)"+name+"(?!\\S)","g"); s=s.replace(_tgO1d,""); _tgo1d.className=s; } ,_tgl1d:function (_tgo1d,name){ this._tgI1c(_tgo1d,name); _tgo1d.className+=" "+name; } ,_tgi1c:function (_tgo1d,_tgi1d,_tgi1b){var i,_tgI1d,_tgo1e; _tgI1d=_tgi1d.length; for (i=1; i<_tgI1d; i+=1){_tgo1e=(_tgi1b+i)%_tgI1d; this._tgI1c(_tgo1d,_tgi1d[_tgo1e]); }_tgo1e=_tgi1b%_tgI1d; this._tgl1d(_tgo1d,_tgi1d[_tgo1e]); } ,_tgO1e:function (_tgl1e,_tgi1e){var _tgI1e=this ; return function (_tgl1e,_tgi1e){_tgI1e._tgi12[_tgi1e.NodeId].meta.expand= false; _tgI1e._tgl1b(); } ; } ,_tgo1f:function (_tgl1e,_tgi1e){var _tgI1e=this ; return function (_tgl1e,_tgi1e){_tgI1e._tgi12[_tgi1e.NodeId].meta.expand= true; _tgI1e._tgl1b(); } ; } ,_tgO1f:function (_tgl1e,_tgi1e){var _tgI1e=this ; return function (_tgl1e,_tgi1e){for (var i=0; i<_tgI1e._tgI12.length; i+=1){_tgI1e._tgi12[_tgI1e._tgI12[i]].meta.expand= false; }_tgI1e._tgl1b(); } ; } ,_tgl1f:function (_tgl1e,_tgi1e){var _tgI1e=this ; return function (_tgl1e,_tgi1e){for (var i=0; i<_tgI1e._tgI12.length; i+=1){_tgI1e._tgi12[_tgI1e._tgI12[i]].meta.expand= true; }_tgI1e._tgl1b(); } ; } ,init:function (){var _tgo14=this.setting,_tgi1f=this ; this._tgI17=window[_tgo14.ktvId]; this._tgI17.registerEvent("OnExpand",this._tgo1f()); this._tgI17.registerEvent("OnCollapse",this._tgO1e()); this._tgI17.registerEvent("OnDeepExpandAll",this._tgl1f()); this._tgI17.registerEvent("OnDeepCollapseAll",this._tgO1f()); KoolPHP._addEventHandler(window,"resize", function (event){_tgi1f._tgl1b(); } ); this._tgl1b(); }} ,_tgI1f:{} ,newTreeGrid:function (_tga){var _tgI1e=this.getTreeGrid(); if (!_tgI1e){_tgI1e=KoolPHP._newObject(KoolTreeGridJS._tgO12); _tgI1e._tglr(_tga); this._tgo1g(_tga,_tgI1e); }return _tgI1e; } ,_tgo1g:function (_tga,_tgI1e){ this._tgI1f[_tga]=_tgI1e; return this ; } ,getTreeGrid:function (_tga){return this._tgI1f[_tga]; }} ;
 <?php _tgl3::_tgOg(); _tgl3::_tglh(); } if (!class_exists("Ko\157\154\124reeG\162\151\144",FALSE)) { class _tglk { private $_tgOk=array(); private function __construct() { } public static function _tgll() { $_tglm=new _tglk(); return $_tglm; } function _tgOm($_tgln) { if (is_array($_tgln)) { foreach ($_tgln as $_tgOn => $_tglo) if (!empty($_tglo)) { if (! isset ($this->_tgOk[$_tgOn])) $this->_tgOk[$_tgOn]=""; if (!strpos($this->_tgOk[$_tgOn],$_tglo)) $this->_tgOk[$_tgOn].=$_tglo."\073"; } } return $this; } function _tgOo() { $_tglp=""; foreach ($this->_tgOk as $_tgOn => $_tglo) { $_tglp.="\056".$_tgOn."\n \173 ".$_tglo." \175\040\n"; } return '<style type="text/css">'.$_tglp."<\057\163\164yle>"; } } class _tgOp { private $_tglq; private $_tgOb; private function __construct() { } public static function _tgll($_tgOq=NULL,$_tglr=NULL) { $_tgls=new _tgOp(); if ( isset ($_tgOq)) $_tgls->_tglq =$_tgOq; if ( isset ($_tglr)) $_tgls->_tgOb =$_tglr; return $_tgls; } function _tgOs($_tglt="\047") { if ( isset ($this->_tglq) && isset ($this->_tgOb)) return $this->_tglq.'='.$_tglt.$this->_tgOb.$_tglt; else return ""; } function _tgOt() { if ( isset ($this->_tglq)) return $this->_tglq; else return ""; } function _tglu() { if ( isset ($this->_tgOb)) return $this->_tgOb; else return ""; } } class _tgOu { protected $_tglv="<\173ta\147\175\040\173p\162\157pertie\163\175>\173co\156\164ent}\074\057\173ta\147\175>"; protected $_tgOv; protected $_tglw=""; protected $_tgOw; protected $_tglx=array(); protected $_tgOx=array(); function __construct() { $this->_tgOw =_tglk::_tgll(); } public static function _tgll($_tgln) { $_tgly=new _tgOu(); $_tgly->_tgOy($_tgln); return $_tgly; } function _tglz($_tgln) { if (is_array($_tgln)) $this->_tgOw->_tgOm($_tgln); return $this; } function _tgOz() { return $this->_tgOw->_tgOo(); } function _tgOy($_tgln) { $this->_tgOv =$_tgln; $this->_tglv =_tgl3::_tgO5("\173tag}",$_tgln,$this->_tglv); return $this; } function _tgl10($_tgln) { $_tgls=_tgOp::_tgll("\143\157lspan",$_tgln); $this->_tglx["\143s"]=$_tgls; return $this; } function _tgO10() { if ( isset ($this->_tglx["cs"])) return $this->_tglx["cs"]->_tglu(); else return 1; } function _tgl11($_tgln) { $_tgls=_tgOp::_tgll("\162\157wspan",$_tgln); $this->_tglx["\162\163"]=$_tgls; return $this; } function _tgO11() { if ( isset ($this->_tglx["rs"])) return $this->_tglx["rs"]->_tglu(); else return 1; } function _tgl12($_tgln) { $_tgls=_tgOp::_tgll("\141lign",$_tgln); $this->_tglx["\141\154"]=$_tgls; return $this; } function _tgO12($_tgln) { $_tgls=_tgOp::_tgll("\167idth",$_tgln); $this->_tglx["\167"]=$_tgls; return $this; } function _tgOm($_tgln) { $_tgls=_tgOp::_tgll("\163tyle",$_tgln); $this->_tglx["s\164"]=$_tgls; return $this; } function _tgl13() { $_tgO13=""; $_tgl14=func_num_args(); $_tgO14=func_get_args(); for ($_tgOj=0; $_tgOj<$_tgl14; $_tgOj ++) $_tgO13.=$_tgO14[$_tgOj]."\040"; $_tgls=_tgOp::_tgll("\143\154ass",$_tgO13); $this->_tglx["\143\154"]=$_tgls; return $this; } function _tgl15($_tgln) { $_tgls=_tgOp::_tgll("i\144",$_tgln); $this->_tglx["id"]=$_tgls; return $this; } function _tgO15($_tgln) { $this->_tglw =$_tgln; return $this; } function _tgl16($_tgO16,$_tgls) { $_tgl17=explode(" ",trim($_tgO16)); foreach ($_tgl17 as $_tgO13) { if ( isset ($_tgls[$_tgO13])) { foreach ($_tgls[$_tgO13] as $_tglq => $_tgOb) { $_tgO17=_tgOp::_tgll($_tglq,$_tgOb); array_push($this->_tglx ,$_tgO17); } } } return $this; } function _tgl18($_tgln) { if ($_tgln instanceof _tgOp) array_push($this->_tglx ,$_tgln); else if (is_array($_tgln)) { foreach ($_tgln as $_tglq => $_tgOb) { $_tgls=_tgOp::_tgll($_tglq,$_tgOb); array_push($this->_tglx ,$_tgls); } } return $this; } function _tglc($_tgln) { $this->_tglx =$_tgln; return $this; } function _tgO18() { return $this->_tglx; } function _tgl19($_tglt='"') { $_tglp=""; foreach ($this->_tglx as $_tgls) if ( isset ($_tgls)) { $_tglp.=$_tgls->_tgOs($_tglt)." "; } return $_tglp; } function _tgO19($_tgln,$_tgl1a=-1) { return $this->_tgO1a(array($_tgln),$_tgl1a); } function _tgO1a($_tgln,$_tgl1a=-1) { $_tgl1b=count($this->_tgOx); if (($_tgl1a<0) || ($_tgl1a>$_tgl1b)) $_tgl1a=$_tgl1b; array_splice($this->_tgOx ,$_tgl1a,0,array($_tgln)); return $this; } function _tgO1b($_tgln,$_tgl1a) { return $this->_tgl1c(array($_tgln),$_tgl1a); } function _tgl1c($_tgln,$_tgl1a) { if ($_tgl1a>-1) $this->_tgOx[$_tgl1a]=$_tgln; return $this; } function _tgO1c() { ksort($this->_tgOx); } function _tgl1d() { $_tgO1d=array(); foreach ($this->_tgOx as $_tgl1e) foreach ($_tgl1e as $_tgO1e) if ( isset ($_tgO1e) && $_tgO1e->_tgl1f() != "") { array_push($_tgO1d,$_tgO1e); } return $_tgO1d; } function _tgl1f() { $_tglp=$this->_tglw; foreach ($this->_tgOx as $_tgl1e) foreach ($_tgl1e as $_tgO1e) if ( isset ($_tgO1e)) $_tglp.=$_tgO1e->_tgO1f(); return $_tglp; } function _tgO1f($_tglt="\047") { $_tgl1g=$this->_tgl1f(); if (!empty($_tgl1g) || $this->_tgOv == "inpu\164") { $_tglp=$this->_tglv; $_tglo=$this->_tgl19($_tglt); $_tglp=_tgl3::_tgO5("\173pro\160\145\162tie\163\175",$_tglo,$_tglp); $_tglp=_tgl3::_tgO5("\173cont\145\156\164}",$_tgl1g,$_tglp); return $_tglp; } else return ""; } function _tgO1g($_tgl1h=array(),$_tgO1h=TRUE) { $_tglp=$this->_tgl1i($_tgl1h,$this->_tglw ,$_tgO1h); foreach ($this->_tgOx as $_tgl1e) foreach ($_tgl1e as $_tgO1e) if ( isset ($_tgO1e)) $_tglp.=$_tgO1e->_tgO1g($_tgl1h,$_tgO1h); return $_tglp; } function _tgO1i($_tgl1h,$_tgO1h=TRUE) { $_tglp=$this->_tgl1i($_tgl1h,$this->_tglw ,$_tgO1h); foreach ($this->_tgOx as $_tgl1e) foreach ($_tgl1e as $_tgO1e) if ( isset ($_tgO1e)) $_tglp.=$_tgO1e->_tgl1j($_tgl1h,$_tgO1h); return $_tglp; } function _tgl1j($_tgl1h,$_tgO1h=TRUE,$_tglt="\047") { $_tgl1g=$this->_tgO1i($_tgl1h,$_tgO1h); if (!empty($_tgl1g)) { $_tglp=$this->_tglv; $_tglo=$this->_tgl19($_tglt); $_tglp=_tgl3::_tgO5("\173pro\160\145rties\175",$_tglo,$_tglp); $_tglp=_tgl3::_tgO5("\173cont\145\156\164}",$_tgl1g,$_tglp); return $_tglp; } else return ""; } function _tgl1i($_tgl1h,$_tgO1j,$_tgO1h=TRUE) { foreach ($_tgl1h as $_tgl1k => $_tgO1k) { if ($_tgO1h) $_tgO1j=_tgl3::_tgO5($_tgl1k,$_tgO1k,$_tgO1j); else $_tgO1j=_tgl1l($_tgl1k,$_tgO1k,$_tgO1j); } return $_tgO1j; } } class _tgO1l { public static function _tgl1m() { $_tgly=_tgOu::_tgll("\144iv"); return $_tgly; } public static function _tgO1m() { $_tgly=_tgOu::_tgll("sp\141\156"); return $_tgly; } public static function _tgl1n() { $_tgly=_tgOu::_tgll("input"); return $_tgly; } public static function _tgO1n($_tgl1o,$_tglr) { $_tgly=_tgOu::_tgll("input"); $_tgly->_tgl18(array("\151\144" => $_tgl1o,"name" => $_tgl1o,"\164\171pe" => "\150idden","a\165\164ocomp\154ete" => "\157\146f","value" => $_tglr,)); return $_tgly; } public static function _tgO1o() { $_tgly=_tgOu::_tgll("s\143\162\151pt"); $_tgly->_tgl18(array("t\171\160\145" => "text\057\152\141vasc\162\151\160t",)); return $_tgly; } } class _tgl1p { var $id; var $text; var $image; var $_tgO1p; var $expand=FALSE; var $subTreeUrl; var $visible=TRUE; var $showPlusMinus=TRUE; var $_tgl1q; var $_tgO1q; function __construct($_tgl1o,$_tgl4="",$_tgl1r=FALSE,$_tgO1r="",$_tgl1s="") { $this->id =$_tgl1o; $this->text =$_tgl4; $this->image =$_tgO1r; $this->expand =$_tgl1r; $this->subTreeUrl =$_tgl1s; $this->_tgO1p =array(); $this->_tgl1q =array(); } function addchild($_tgO1e) { $_tgO1e->_tgO1q =$this; array_push($this->_tgO1p ,$_tgO1e); } function adddata($_tgOq,$_tgO1s) { $this->_tgl1q[$_tgOq]=$_tgO1s; } } class _tgl1t { var $_tgl0="1\056\060.0.0"; var $id; var $_tgO1t; var $_tglm; var $_tgl1u; var $width=""; var $height=""; var $overflow=""; var $styleFolder; var $imageFolder; var $selectedIds; var $selectEnable=TRUE; var $selectDisableIds; var $multipleSelectEnable=FALSE; var $DragAndDropEnable=FALSE; var $dragDisableIds; var $dropDisableIds; var $EditNodeEnable=FALSE; var $editDisableIds; var $isSubTree=FALSE; var $singleExpand=FALSE; var $keepState="\156\157ne"; var $keepStateHours=030; var $showLines=FALSE; var $scriptFolder=""; function __construct($_tgl1o) { $this->id =$_tgl1o; $this->_tgO1t =new _tgl1p("\162oot"); $this->_tgl1u =array(); $this->_tgl1u["\162\157\157t"]=$this->_tgO1t; } function loadxml($_tgO1u) { if (gettype($_tgO1u) == "strin\147") { $_tgO1=new domdocument(); $_tgO1->loadxml($_tgO1u); $_tgO1u=$_tgO1->documentElement; } $id=$_tgO1u->getattribute("\151d"); if ($id != "") $this->id =$id; $this->width =$_tgO1u->getattribute("\167\151dth"); $this->height =$_tgO1u->getattribute("\150eight"); $this->overflow =$_tgO1u->getattribute("\157verflow"); $this->styleFolder =$_tgO1u->getattribute("\163tyleFold\145\162"); $this->imageFolder =$_tgO1u->getattribute("imag\145\106\157lder"); $this->selectedIds =$_tgO1u->getattribute("s\145\154\145ctedI\144\163"); $this->selectDisableIds =$_tgO1u->getattribute("selec\164\104\151sable\111\144\163"); $this->dragDisableIds =$_tgO1u->getattribute("\144ragDisa\142\154\145Ids"); $this->dropDisableIds =$_tgO1u->getattribute("\144\162\157pDis\141\142\154eIds"); $this->editDisableIds =$_tgO1u->getattribute("editD\151\163\141bleId\163"); $_tgl1v=$_tgO1v->getattribute("s\143\162\151ptFol\144\145\162"); if ($_tgl1v != "") $this->scriptFolder =$_tgl1v; $_tgl1w=$_tgO1u->getattribute("sel\145\143\164Enabl\145"); $this->selectEnable =($_tgl1w == "") ? FALSE: (($_tgl1w == "tru\145") ? TRUE: FALSE); $_tgl1w=$_tgO1u->getattribute("\155ultiple\123\145\154ectEn\141\142le"); $this->multipleSelectEnable =($_tgl1w == "") ? FALSE: (($_tgl1w == "\164rue") ? TRUE: FALSE); $_tgl1w=$_tgO1u->getattribute("DragAnd\104\162\157pEna\142\154\145"); $this->DragAndDropEnable =($_tgl1w == "") ? FALSE: (($_tgl1w == "\164\162ue") ? TRUE: FALSE); $_tgl1w=$_tgO1u->getattribute("EditNode\105\156\141ble"); $this->EditNodeEnable =($_tgl1w == "") ? FALSE: (($_tgl1w == "\164\162\165e") ? TRUE: FALSE); $_tgl1w=$_tgO1u->getattribute("\151\163SubTre\145"); $this->isSubTree =($_tgl1w == "") ? FALSE: (($_tgl1w == "\164rue") ? TRUE: FALSE); $_tgl1w=$_tgO1u->getattribute("\163\150owOnE\170\160and"); $this->showOnExpand =($_tgl1w == "") ? FALSE: (($_tgl1w == "t\162\165e") ? TRUE: FALSE); $_tgl1w=$_tgO1u->getattribute("keepS\164\141te"); if ($_tgl1w != "") $this->keepState =$_tgl1w; $_tgl1w=$_tgO1u->getattribute("keep\123\164\141teHo\165\162\163"); if ($_tgl1w != "") $this->keepStateHours =intval($_tgl1w); $_tgl1w=$_tgO1u->getattribute("si\156\147\154eExpa\156\144"); $this->singleExpand =($_tgl1w == "") ? FALSE: (($_tgl1w == "true") ? TRUE: FALSE); foreach ($_tgO1u->childNodes as $_tgO1w) { switch (strtolower($_tgO1w->nodeName)) { case "roo\164\156\157de": $this->_tgO1t->text =$_tgO1w->getattribute("text"); $this->_tgO1t->image =$_tgO1w->getattribute("imag\145"); $this->_tgO1t->subTreeUrl =$_tgO1w->getattribute("\163\165bTreeU\162\154"); $_tgl1w=$_tgO1w->getattribute("e\170\160\141nd"); $this->_tgO1t->expand =($_tgl1w == "") ? FALSE: (($_tgl1w == "\164\162ue") ? TRUE: FALSE); $_tgl1w=$_tgO1w->getattribute("\166\151sible"); $this->_tgO1t->visible =($_tgl1w == "") ? TRUE: (($_tgl1w == "\164\162ue") ? TRUE: FALSE); $_tgl1w=$_tgO1w->getattribute("s\150\157wPl\165\163Mi\156\165s"); $this->_tgO1t->showPlusMinus =($_tgl1w == "") ? TRUE: (($_tgl1w == "true") ? TRUE: FALSE); $this->_tgl1x($this->_tgO1t ,$_tgO1w); break; case "templat\145\163": break; } } } function _tgl1x($_tgO1x,$_tgl1y) { foreach ($_tgl1y->childNodes as $_tgO1y) { if ($_tgO1y->nodeName == "node") { $id=$_tgO1y->getattribute("i\144"); $_tgl1z=new _tgl1p($id); $_tgl1z->text =$_tgO1y->getattribute("t\145\170\164"); $_tgl1z->image =$_tgO1y->getattribute("image"); $_tgl1z->subTreeUrl =$_tgO1y->getattribute("subTr\145\145\125rl"); $_tgl1w=$_tgO1y->getattribute("exp\141\156\144"); $_tgl1z->expand =($_tgl1w == "") ? FALSE: (($_tgl1w == "\164\162ue") ? TRUE: FALSE); $this->_tgl1x($_tgl1z,$_tgO1y); $_tgO1x->addchild($_tgl1z); } } } function render() { $_tgO1z=""; if ($this->isSubTree) { $this->_tgl20(); for ($_tgOj=0; $_tgOj<sizeof($this->_tgO1t->_tgO1p); $_tgOj ++) $_tgO1z.=$this->_tgO20($this->_tgO1t->_tgO1p[$_tgOj]); } else { $_tgO1z="\n<!--K\157\157\154Tree\126\151\145w v\145\162\163ion\040".$this->_tgl0." - ww\167\056\153oolph\160\056net -\055\076\n"; $_tgO1z.=$this->registercss(); $_tgO1z.=$this->rendertree(); $_tgl21= isset ($_POST["__ko\157\154\141jax"]) || isset ($_GET["__koo\154\141\152ax"]); $_tgO1z.=($_tgl21) ? "": $this->registerscript(); $_tgO1z.="<sc\162\151\160t typ\145\075'text/\152\141vascri\160\164'>"; $_tgO1z.=$this->startupscript(); $_tgO1z.="</scri\160\164\076"; } return $_tgO1z; } function _tgO21() { $_tgO1z=''; $_tgO1z.="<script\040\164\171pe='t\145\170t/java\163\143\162ipt'\076"; $_tgO1z.=$this->startupscript(); $_tgO1z.="\074/scrip\164\076"; return $_tgO1z; } function add($_tgl22,$_tgl1o,$_tgl4="",$_tgl1r=FALSE,$_tgO1r="",$_tgl1s="") { $_tgO22=new _tgl1p($_tgl1o); $_tgO22->text =$_tgl4; $_tgO22->expand =$_tgl1r; $_tgO22->image =$_tgO1r; $_tgO22->subTreeUrl =$_tgl1s; $this->_tgl1u[$_tgl22]->addchild($_tgO22); $this->_tgl1u[$_tgl1o]=$_tgO22; return $_tgO22; } function getrootnode() { return $this->_tgO1t; } function getnode($_tgl23) { return $this->_tgl1u[$_tgl23]; } function _tgl20() { $this->styleFolder =_tgl3::_tgO5("\134","\057",$this->styleFolder); $_tgO23=trim($this->styleFolder ,"/"); $_tgl24=strrpos($_tgO23,"/"); $this->_tglm =substr($_tgO23,($_tgl24 ? $_tgl24: -1)+1); } function registercss($_tgO24=array()) { $this->_tgl20(); if (!in_array($this->_tglm ,$_tgO24)) array_push($_tgO24,$this->_tglm); $_tgl25=''; foreach ($_tgO24 as $_tgO25) $_tgl25.="\047".$_tgO25."\047\054"; $_tgl25='['.trim($_tgl25,',').']'; $_tgl26="\074\163cript\040\164ype='t\145\170t/jav\141\163\143ript\047\076\n"."v\141\162\040_hea\144\040\075 do\143\165\155ent.\147\145tElem\145\156tsBy\124\141gName(\047\150ead')\133\060\135;\n "."\166\141r styles\075\173styleAr\162\141y};\n "."f\157\162\040(var \151\075\060; i<\163\164\171les.\154\145ngth;\040\151+=1)\040\173\n "."\151f (doc\165\155\145nt.g\145\164\105leme\156\164\102yId\050\047__\173\163\164yle}KT\107\047)==nul\154\051\173\n "."var \137\154\151nk = \144\157\143umen\164\056\143reat\145\105lemen\164\050'lin\153\047); _li\156\153.id = \047\137_'+sty\154\145s[i]\053\040'KTG';\n\040"."_l\151\156\153.rel=\047\163\164yles\150\145et'; _\154\151nk.hr\145\146='\173s\164\171lepath\175\057'+styl\145\163[i]+'/\047\053style\163\133i]+'.c\163\163';\n "."\137\150ead.ap\160\145\156dChi\154\144\050_lin\153\051;\n "."}\175\074\057scrip\164\076"; $_tgO26=_tgl3::_tgO5("\173sty\154\145\101rray}",$_tgl25,$_tgl26); $_tgO26=_tgl3::_tgO5("\173\163\164ylepa\164\150\175",$this->_tgl27(),$_tgO26); return $_tgO26; } function rendertree() { $this->_tgl20(); $_tgO27="<inpu\164\040type='h\151\144\144en' i\144\075'\173id\175\056clie\156\164Stat\145\047 name=\047\173id}.cl\151\145\156tSta\164\145' />"; $_tglj=_tgl3::_tgO5("\173\151d}",$this->id ,_tgl3::_tgOh()); $_tglj=_tgl3::_tgO5("\173\163\164yle}",$this->_tglm ,$_tglj); $_tglj=_tgl3::_tgO5("\173\156\157paddin\147\175",(!$this->_tgO1t->visible || !$this->_tgO1t->showPlusMinus) ? "\153tvNoPad\144\151\156g": "",$_tglj); $_tglj=_tgl3::_tgO5("\173subnodes\175",$this->_tgO20($this->_tgO1t),$_tglj); $_tglj=_tgl3::_tgO5("\173lines\175",(($this->showLines) ? "ktvLine\163": ""),$_tglj); $_tgl28=_tgl3::_tgO5("\173\151d}",$this->id ,$_tgO27); if (_tgl3::_tgOi($_tglj)) { $_tglj=_tgl3::_tgO5("\173\143\154ient\163\164\141te}",$_tgl28,$_tglj); } $_tglj=_tgl3::_tgO5("\173wi\144\164\150}",(($this->width != "") ? "wi\144\164\150:".$this->width.";": ""),$_tglj); $_tglj=_tgl3::_tgO5("\173\150eight\175",(($this->height != "") ? "height\072".$this->height.";": ""),$_tglj); $_tglj=_tgl3::_tgO5("\173\157ve\162\146lo\167\175",(($this->overflow != "") ? "ov\145\162flo\167\072".$this->overflow.";": ""),$_tglj); $_tglj=_tgl3::_tgO5("\173\166ersion\175",$this->_tgl0 ,$_tglj); return $_tglj; } function _tgO20($_tgO1x) { $_tgO28="<\165\154 class\075\047ktv\125\114' st\171\154e='di\163\160lay:\173\144ispl\141\171}'>\173\163\165bnod\145\163}</ul\076"; $_tgl29="\074li i\144\075'\173no\144\145id}' \143\154ass='\173\143lass}\047\076\173n\157\144econ\164\145nt}\173\163\165bnode\163\175\074/l\151\076"; $_tgO29="<di\166\040class=\047\173class\175\047>\173p\154\165sminu\163\175\173i\155\141ge}\173\164\145xt}\173\156odeda\164\141\175</d\151\166>"; $_tgl2a="\074span \143\154ass='k\164\166PM kt\166\173\160lus\155\151nus}\047\076 </\163\160an>"; $_tgO2a="<img\040\163rc='\173\151\155age}\047\040class\075\047ktvI\155\141ge' \141\154t='\047\057>"; $_tgl2b="\074\163pan cl\141\163s='kt\166\124ext'>\173\164\145xt}\074\057spa\156\076"; $_tgO2b="<input \151\144\075'\173\156\157deid}\137\144ata' \164\171pe='\150\151dden\047\040valu\145\075'\173v\141\154ue}'/\076"; $_tgl2c=$_tgl29; $_tgO2c=$_tgO29; $_tgl1w=_tgl3::_tgO5("\173\164\145xt}",$_tgO1x->text ,$_tgl2b); $_tgO2c=_tgl3::_tgO5("\173tex\164\175",$_tgl1w,$_tgO2c); $_tgl2d=""; if ($_tgO1x->image != "") { $_tgl1w=_tgl3::_tgO5("\173\151mage}",(($this->imageFolder != "") ? $this->imageFolder."/": "").$_tgO1x->image ,$_tgO2a); $_tgO2c=_tgl3::_tgO5("\173image}",$_tgl1w,$_tgO2c); } else { $_tgO2c=_tgl3::_tgO5("\173image}","",$_tgO2c); } if (sizeof($_tgO1x->_tgO1p)>0) { $_tgl1w=_tgl3::_tgO5("\173\160lusmi\156\165s}",($_tgO1x->expand) ? "\115\151nus": "Pl\165\163",$_tgl2a); $_tgO2c=_tgl3::_tgO5("\173p\154\165\163minu\163\175",$_tgl1w,$_tgO2c); $_tgl2d=""; for ($_tgOj=0; $_tgOj<sizeof($_tgO1x->_tgO1p); $_tgOj ++) { $_tgl2d.=$this->_tgO20($_tgO1x->_tgO1p[$_tgOj]); } $_tgl2d=_tgl3::_tgO5("\173subnode\163\175",$_tgl2d,$_tgO28); $_tgl2d=_tgl3::_tgO5("\173\144\151splay}",($_tgO1x->expand) ? "\142\154ock": "\156\157ne",$_tgl2d); } else { if ($_tgO1x->subTreeUrl != "") { $_tgl1w=_tgl3::_tgO5("\173plusminu\163\175","\120\154us",$_tgl2a); $_tgO2c=_tgl3::_tgO5("\173\160\154usminus\175",$_tgl1w,$_tgO2c); } else { $_tgO2c=_tgl3::_tgO5("\173\160lusminu\163\175","",$_tgO2c); } } if ($_tgO1x->subTreeUrl != "" || sizeof($_tgO1x->_tgl1q)>0) { $_tgO2d=_tgl3::_tgO8($_tgO1x->subTreeUrl); $_tgl2e=array(); foreach ($_tgO1x->_tgl1q as $_tglb => $_tgOb) { $_tgl2e[$_tglb]=_tgl3::_tgO8($_tgOb); } $_tgl1q=array("\165\162l" => $_tgO2d,"data" => $_tgl2e); $_tgO2e=_tgl3::_tgO5("\173no\144\145\151\144}",(($_tgO1x === $this->_tgO1t) ? $this->id."\056": "").$_tgO1x->id ,$_tgO2b); $_tgO2e=_tgl3::_tgO5("\173\166alue}",json_encode($_tgl1q),$_tgO2e); $_tgO2c=_tgl3::_tgO5("\173\156odedat\141\175",$_tgO2e,$_tgO2c); } else { $_tgO2c=_tgl3::_tgO5("\173\156\157dedat\141\175","",$_tgO2c); } $_tgl2f="\153\164\166LI"; if (( isset ($_tgO1x->_tgO1q->_tgO1p[0]) && $_tgO1x->_tgO1q->_tgO1p[0] === $_tgO1x) || $_tgO1x === $this->_tgO1t) { $_tgl2f.=" ktv\106\151\162st"; } if (( isset ($_tgO1x->_tgO1q->_tgO1p) && isset ($_tgO1x->_tgO1q->_tgO1p[sizeof($_tgO1x->_tgO1q->_tgO1p)-1]) && $_tgO1x->_tgO1q->_tgO1p[sizeof($_tgO1x->_tgO1q->_tgO1p)-1] === $_tgO1x) || $_tgO1x === $this->_tgO1t) { $_tgl2f.=" k\164\166\114ast"; } $_tgO2f=""; if ($_tgO1x === $this->_tgO1t) { $_tgO2f="k\164\166\124op"; if (!$_tgO1x->visible) $_tgO2f.="\040ktvInv"; if (!$_tgO1x->showPlusMinus) $_tgO2f.=" \153\164\166NoPM"; } else { if ($_tgO1x->_tgO1q->_tgO1p[0] === $_tgO1x) { $_tgO2f="\153tvTop"; } if ($_tgO1x->_tgO1q->_tgO1p[sizeof($_tgO1x->_tgO1q->_tgO1p)-1] === $_tgO1x) { $_tgO2f="\153tvBot"; } if ($_tgO2f == "") { $_tgO2f="\153tvMid"; } } $_tgl2g="[".str_replace("\054","][",$this->selectedIds)."\135"; if (strpos($_tgl2g,"\133".$_tgO1x->id."\135") !== FALSE) $_tgO2f.=" ktvSe\154\145\143ted"; $_tgO2c=_tgl3::_tgO5("\173\143lass}",$_tgO2f,$_tgO2c); $_tgl2c=_tgl3::_tgO5("\173nod\145\151\144}",(($_tgO1x === $this->_tgO1t) ? $this->id.".": "").$_tgO1x->id ,$_tgl2c); $_tgl2c=_tgl3::_tgO5("\173class}",$_tgl2f,$_tgl2c); $_tgl2c=_tgl3::_tgO5("\173node\143\157ntent}",$_tgO2c,$_tgl2c); $_tgl2c=_tgl3::_tgO5("\173subnod\145\163\175",$_tgl2d,$_tgl2c); return $_tgl2c; } function registerscript() { $_tgl26="<\163\143\162ipt t\171\160\145='t\145\170t/jav\141\163\143rip\164\047>if\050\164ypeof \137\154ibKTV=\075\047undef\151\156\145d')\173\144ocumen\164\056write\050\165nesca\160\145\050\042%\063\103scrip\164\040\164ype\075\047text/\152\141\166ascr\151\160t' sr\143\075'\173s\162\143}'%3E \045\063C/scr\151\160t%3E\042\051\051;_li\142\113TV=1;\175\074/scri\160\164>"; $_tgO26=_tgl3::_tgO5("\173\163rc}",$this->_tgO2g()."\077".md5("\152s"),$_tgl26); return $_tgO26; } function startupscript() { $_tgl26="v\141\162\040\173i\144\175\073 fu\156\143tion \173\151\144}_in\151\164()\173\040\173id} =\040\156ew Koo\154\124reeVie\167\050\042\173\151\144\175\042,\173\163ingleE\170\160and},\173\163\145lectE\156\141ble},\173\155\165ltip\154\145\123elec\164\105\156able\175\054\173Dr\141\147AndDr\157\160\105nabl\145\175,\173Ed\151\164\116ode\105\156\141ble}\054\047\173ke\145\160\123tate\175\047,\173ke\145\160State\110\157\165rs}\054\042\173cs}\042\051;}"; $_tgl26.="if\040\050\164ypeo\146\050\113ool\124\162\145eVie\167\051=='fu\156\143tion\047\051\173\173\151\144\175_ini\164\050);}"; $_tgl26.="else\173\151\146\050type\157\146\050__K\124\126\111nits\051\075='un\144\145fine\144\047\051\173_\137\113\124VIni\164\163=new A\162\162ay();\175\040__KTVI\156\151\164s.pu\163\150(\173id\175\137\151nit)\073\173regist\145\162\137scri\160\164}}"; $_tgl2h="i\146\050\164ypeof\050\137\154ibKT\126\051=='und\145\146ined'\051\173var \137\150\145ad =\040\144ocumen\164\056getEle\155\145ntsBy\124\141\147Name\050\047head'\051\1330];var\040\137script\040\075 docu\155\145\156t.cr\145\141teElem\145\156t('scr\151\160t'); \137\163cript\056\164ype='\164\145\170t/ja\166\141scrip\164\047; _sc\162\151\160t.sr\143\075'\173sr\143\175'; _h\145\141\144.app\145\156dChil\144\050_scri\160\164\051;_l\151\142\113TV=\061\073}"; $_tgO2h=_tgl3::_tgO5("\173\163\162c}",$this->_tgO2g()."\077".md5("\152\163"),$_tgl2h); $_tgl2i="\173\047\163electe\144\111\144s':[\173\163electe\144\111ds}],\047\163elec\164\104\151sabl\145\111\144s':[\173\163\145lect\104\151sable\111\144\163}],'\144\162\141gDis\141\142\154eIds\047\072[\173dr\141\147Disabl\145\111ds}],'\144\162opDisa\142\154\145Ids'\072\133\173dr\157\160Disab\154\145\111ds}]\054\047editD\151\163ableId\163\047:[\173e\144\151tDisa\142\154\145Ids}\135\175"; $_tgO1z=_tgl3::_tgO5("\173\151d}",$this->id ,$_tgl26); $_tgl2g=($this->selectedIds != "") ? "'"._tgl3::_tgO5("\054","','",$this->selectedIds)."'": ""; $_tgl28=_tgl3::_tgO5("\173\163\145\154ected\111\144s}",$_tgl2g,$_tgl2i); $_tgl2g=($this->selectDisableIds != "") ? "'"._tgl3::_tgO5(",","','",$this->selectDisableIds)."\047": ""; $_tgl28=_tgl3::_tgO5("\173se\154\145\143tDisa\142\154eIds}",$_tgl2g,$_tgl28); $_tgl2g=($this->dragDisableIds != "") ? "\047"._tgl3::_tgO5("\054","\047\054'",$this->dragDisableIds)."'": ""; $_tgl28=_tgl3::_tgO5("\173d\162\141\147Disab\154\145\111ds}",$_tgl2g,$_tgl28); $_tgl2g=($this->dropDisableIds != "") ? "\047"._tgl3::_tgO5(",","\047,'",$this->dropDisableIds)."'": ""; $_tgl28=_tgl3::_tgO5("\173dr\157\160Disabl\145Id\163\175",$_tgl2g,$_tgl28); $_tgl2g=($this->editDisableIds != "") ? "'"._tgl3::_tgO5(",","\047\054'",$this->editDisableIds)."\047": ""; $_tgl28=_tgl3::_tgO5("\173\145ditDis\141\142\154eIds\175",$_tgl2g,$_tgl28); $_tgO1z=_tgl3::_tgO5("\173sing\154\145\105xpand\175",($this->singleExpand) ? "\061": "0",$_tgO1z); $_tgO1z=_tgl3::_tgO5("\173\163\145\154ectEn\141\142\154e}",($this->selectEnable) ? "1": "0",$_tgO1z); $_tgO1z=_tgl3::_tgO5("\173\155\165ltipleS\145\154\145ctEn\141\142le}",($this->multipleSelectEnable) ? "\061": "0",$_tgO1z); $_tgO1z=_tgl3::_tgO5("\173\104\162agAndD\162\157\160Enab\154\145\175",($this->DragAndDropEnable) ? "1": "\060",$_tgO1z); $_tgO1z=_tgl3::_tgO5("\173Edit\116\157\144eEna\142\154e}",($this->EditNodeEnable) ? "1": "\060",$_tgO1z); $_tgO1z=_tgl3::_tgO5("\173\153eepSta\164\145\175",$this->keepState ,$_tgO1z); $_tgO1z=_tgl3::_tgO5("\173keepS\164\141\164eHour\163\175",$this->keepStateHours ,$_tgO1z); $_tgO1z=_tgl3::_tgO5("\173\143s}",$_tgl28,$_tgO1z); $_tgO1z=_tgl3::_tgO5("\173registe\162\137scri\160\164}",$_tgO2h,$_tgO1z); return $_tgO1z; } function _tgO2g() { if ($this->scriptFolder == "") { $_tgO6=_tgl3::_tgO4(); $_tgO2i=substr(_tgl3::_tgO5("\134","\057",__FILE__),strlen($_tgO6)); return $_tgO2i; } else { $_tgO2i=_tgl3::_tgO5("\134","/",__FILE__); $_tgO2i=$this->scriptFolder.substr($_tgO2i,strrpos($_tgO2i,"/")); return $_tgO2i; } } function _tgl27() { $_tgl2j=$this->_tgO2g(); $_tgO2j=_tgl3::_tgO5(strrchr($_tgl2j,"/"),"",$_tgl2j)."/style\163"; return $_tgO2j; } } class _tgl2k { public $_tgO2k; public $_tgl2l; public $_tgO2l; public $text; public $expand; public $_tgl2m; public $width=1; public $_tgO2m; public $_tgl2n; public $_tgO2n=array(); public $_tgl2o=array(); public static $_tgO2o=array(0 => "\164\147rRow",1 => "tgrAltRo\167"); function addchild($_tgl2p) { $_tgl2p->_tgO2k =$this; $this->_tgl2l[$_tgl2p->_tgO2l ]=$_tgl2p; $_tgO2p=$_tgl2p->width; $_tgO1e=$_tgl2p; $_tgl2q=$this; while ($_tgl2q != NULL) { $_tgl2q->width += $_tgO2p; $_tgO1e=$_tgl2q; $_tgl2q=$_tgl2q->_tgO2k; } } function _tgO2q() { $_tgl2r=1; if ( isset ($this->_tgl2l)) { foreach ($this->_tgl2l as $_tgO2r) { if ($_tgO2r->expand) $_tgl2r += $_tgO2r->_tgO2q(); else $_tgl2r ++; } } return $_tgl2r; } function _tgl2s() { for ($_tgOj=1; $_tgOj<$this->_tgO2s; $_tgOj ++) echo "**"; echo $this->_tgO2l."\074br>"; if ($this->expand) if ( isset ($this->_tgl2l)) foreach ($this->_tgl2l as $_tgO2r) $_tgO2r->_tgl2s(); } function _tgl2t() { return $this->_tgl2m; } function _tgO2t() { $_tgl2m=""; if ($this->_tgO2l != "\162oot") $_tgl2m=$this->_tgl2m; if ( isset ($this->_tgl2l)) foreach ($this->_tgl2l as $_tgO2r) $_tgl2m.=$_tgO2r->_tgO2t(); return $_tgl2m; } public function _tgl2u() { $_tgO1d=array('id' => $this->_tgO2l ,'row' => $this->_tgO2n ,'meta' => $this->_tgl2o ,'parent' => isset ($this->_tgO2k->_tgO2l) ? $this->_tgO2k->_tgO2l : NULL,'children' => array(),); if ( isset ($this->_tgl2l)) foreach ($this->_tgl2l as $_tgO2r) array_push($_tgO1d['children'],$_tgO2r->_tgl2u()); return $_tgO1d; } function _tgO2u($_tgl2v=0,$_tgO2v=1) { $this->_tgO2m =$_tgl2v; $this->_tgl2n =$_tgO2v; if ( isset ($this->_tgl2l)) foreach ($this->_tgl2l as $_tgO2r) $_tgl2v=$_tgO2r->_tgO2u($_tgl2v+1,$_tgO2v+1); return $_tgl2v ++; } } class treegriddatasource { private $_tgl2w; private $_tgO2w; private $_tgl2x=array(); public static function _tgll($_tgOd) { $_tgO2x=new treegriddatasource(); $_tgO2x->addsetting($_tgOd); $_tglf=array('databaseConnection' => 'setConnection','selectCommand' => 'setSelectCommand'); _tgl3::_tgOe($_tgO2x,$_tglf,$_tgOd); return $_tgO2x; } public function setconnection($_tglw) { $this->_tgl2w =$_tglw; } public function setselectcommand($_tgl2y) { $this->_tgO2w =$_tgl2y; } public function set($_tgO2y) { $this->_tgl2x =_tgl3::_tgO9($this->_tgl2x ,$_tgO2y); } public function addsetting($_tgO2y) { $this->_tgl2x =_tgl3::_tgO9($this->_tgl2x ,$_tgO2y); } public function _tgl2z() { $_tgO2z=array(); $_tgl30=mysql_query($this->_tgO2w ,$this->_tgl2w); while ($_tgO30=mysql_fetch_assoc($_tgl30)) array_push($_tgO2z,$_tgO30); return $_tgO2z; } } class kooltreegrid { public $_tgl0="1.\060\0560.0"; public $_tgO2l; public $_tgl31; public $_tgO31; public $_tgl32; public $_tgO32; public $_tgl33; public $_tgO33; public $_tgl34; public $_tgO34; public $_tgl2p; private $_tgl2x=array('id' => 'KoolTreeGrid1','divId' => 'div_KoolTreeGrid1','ktvId' => 'KoolTreeGrid1_ktv','width' => '600px','style' => 'default','styles' => array('default','office2010blue','outlook','lightsky','sunset'),'columns' => array(),); public static function newtreegrid($_tgOd) { $_tgl35=new kooltreegrid(); $_tgl35->set($_tgOd); return $_tgl35; } public static function csvtoarray($_tgO35,$_tgl36=',',$_tgO36=03720) { $_tgl37=fopen($_tgO35,'r'); if ($_tgl37 !== FALSE) { $_tgO37=NULL; $_tgl1q=array(); while (($_tgO2n=fgetcsv($_tgl37,$_tgO36,$_tgl36)) !== FALSE) { if ($_tgO37 == NULL || count($_tgO2n) == count($_tgO37)) { foreach ($_tgO2n as &$_tgl38) { $_tgl38=trim($_tgl38); } if ($_tgO37 == NULL) $_tgO37=$_tgO2n; else array_push($_tgl1q,array_combine($_tgO37,$_tgO2n)); } } fclose($_tgl37); return $_tgl1q; } return FALSE; } function process() { $_tglf=array('id' => 'setId','dataSource' => 'setDataSource','columns' => 'setColumns','TreeArray' => 'setTreeArray','ArrayData' => 'setArrayData','parameterValues' => 'setParameterValues'); _tgl3::_tgOe($this,$_tglf,$this->_tgl2x); $_tgO38='div_'.$this->_tgO2l; $this->_tgl2x['divId']=$_tgO38; $_tgl39=$this->_tgO2l.'_ktv'; $this->_tgl2x['ktvId']=$_tgl39; $_tgO39=new _tgl1t($_tgl39); if (! isset ($this->_tgl2x['style'])) $this->_tgl2x['style']='default'; $_tgO39->styleFolder =$this->_tgl2x['style']; $_tgO39->showLines =TRUE; $_tgl3a=$_tgO39->getrootnode(); $_tgO3a=new _tgl2k(); $_tgO3a->_tgO2l ="\162oot"; $_tgO3a->_tgO2k =NULL; $_tgO3a->expand =TRUE; $_tgl3b=array(); $_tgl3b["\162oot"]=$_tgO3a; $this->_tgO34 =$_tgO39; $this->_tgl2p =$_tgO3a; $_tgO3b="\074span \151\144='\173id\175\047 styl\145\075'disp\154\141y:inl\151\156e-bl\157\143k'>\173c\157\156tent}<\057\163pan>"; $_tgl3c=$this->_tgO3c(); if ( isset ($this->_tgO31)) { $_tgO3a=$this->_tgl3d($_tgO3a,$this->_tgO31 ,$_tgl3c); } else { $_tgO32= isset ($this->_tgl2x['idField']) ? trim($this->_tgl2x['idField']): ""; $_tgl33= isset ($this->_tgl2x['parentField']) ? trim($this->_tgl2x['parentField']): ""; $_tgO3d= isset ($this->_tgl2x['metaField']) ? trim($this->_tgl2x['metaField']): ""; $_tgl3e=array(); $_tgl3e= isset ($this->_tgl32) ? $this->_tgl32 : $this->_tgl31->_tgl2z(); foreach ($_tgl3e as $_tgO2n) { if (empty($_tgO2n[$_tgl33])) { $_tgO3e=$_tgO3a; $_tgl3f=str_replace("\173\151\144}",$_tgl39.".root_\164\145\170t",$_tgO3b); $_tgl3f=str_replace("\173\143onte\156\164}",$_tgO2n[$_tgl3c[0]['field']],$_tgl3f); $_tgl3a->_tgO2l =$_tgO2n[$_tgO32]; $_tgl3a->text =$_tgl3f; $_tgl3b[$_tgl3a->_tgO2l ]=$_tgO3e; $_tgO3f=array(); foreach ($_tgl3c as $_tgl3g) { $_tgO3g=$_tgl3g['field']; if (trim($_tgO2n[$_tgO3g]) == '') $_tgO3f[$_tgO3g]="\040"; else $_tgO3f[$_tgO3g]=$_tgO2n[$_tgO3g]; if (trim($_tgO3f[$_tgO3g]) == '') { $_tgO3f[$_tgO3g]=str_replace(' ','&nbsp;',$_tgO3f[$_tgO3g]); $_tgO3f[$_tgO3g]=html_entity_decode($_tgO3f[$_tgO3g]); } } $_tgO3e->_tgO2n =$_tgO3f; if (!empty($_tgO3d)) { $_tgl3h= isset ($_tgO2n[$_tgO3d]) ? $_tgO2n[$_tgO3d]: ""; $_tgO3e->_tgl2o =$_tgl3h; if (empty($_tgO3e->_tgl2o)) $_tgO3e->_tgl2o =array(); } if (! isset ($_tgO3e->_tgl2o['expand'])) $_tgO3e->_tgl2o['expand']=TRUE; $_tgO3e->expand =$_tgO3e->_tgl2o['expand']; $_tgl3a->expand =$_tgO3e->expand; } else { if ( isset ($_tgl3b[$_tgO2n[$_tgO32]])) { $_tgO3e=$_tgl3b[$_tgO2n[$_tgO32]]; } else { $_tgO3e=new _tgl2k(); $_tgO3e->_tgO2l =$_tgO2n[$_tgO32]; $_tgl3b[$_tgO2n[$_tgO32]]=$_tgO3e; } $_tgO3e->text =$_tgO2n[$_tgl3c[0]['field']]; $_tgO3f=array(); foreach ($_tgl3c as $_tgl3g) { $_tgO3g=$_tgl3g['field']; if (trim($_tgO2n[$_tgO3g]) == '') $_tgO3f[$_tgO3g]="\040"; else $_tgO3f[$_tgO3g]=$_tgO2n[$_tgO3g]; if (trim($_tgO3f[$_tgO3g]) == '') { $_tgO3f[$_tgO3g]=str_replace(' ','&nbsp;',$_tgO3f[$_tgO3g]); $_tgO3f[$_tgO3g]=html_entity_decode($_tgO3f[$_tgO3g]); } } $_tgO3e->_tgO2n =$_tgO3f; if (!empty($_tgO3d)) { $_tgl3h= isset ($_tgO2n[$_tgO3d]) ? $_tgO2n[$_tgO3d]: ""; $_tgO3e->_tgl2o =$_tgl3h; if (empty($_tgO3e->_tgl2o)) $_tgO3e->_tgl2o =array(); } if (! isset ($_tgO3e->_tgl2o['expand'])) $_tgO3e->_tgl2o['expand']=TRUE; $_tgO3e->expand =$_tgO3e->_tgl2o['expand']; if ( isset ($_tgl3b[$_tgO2n[$_tgl33]])) { $parentNode=$_tgl3b[$_tgO2n[$_tgl33]]; } else { $parentNode=new _tgl2k(); $parentNode->_tgO2l =$_tgO2n[$_tgl33]; $_tgl3b[$_tgO2n[$_tgl33]]=$parentNode; } if (! isset ($parentNode->_tgl2l[$_tgO3e->_tgO2l ])) $parentNode->addchild($_tgO3e); } } } $_tgO3a->_tgO2u(); $this->_tgO3h($_tgO39,$_tgO3a); $keepState=$this->_tgl3i('keepSate',FALSE); if ($keepState === TRUE) $_tgO39->keepState ="crossp\141\147e"; $_tgO39->selectEnable =FALSE; } function _tgl3i($_tgl2y,$_tgO3i=NULL) { if ( isset ($this->_tgl2x[$_tgl2y])) return $this->_tgl2x[$_tgl2y]; else return $_tgO3i; } function _tgl3d($_tgl3j,$_tgO3j,$_tgl3c) { $_tgO2n=$_tgO3j['row']; if (! isset ($_tgl3j->_tgO2k)) { $_tgO3b="\074\163pan \151\144='\173\151\144}' s\164\171le='d\151\163play\072\151nl\151\156e-blo\143\153'>\173\143\157ntent\175\074/span\076"; $_tgl3f=str_replace("\173id}",$this->_tgl2x['ktvId'].".root_t\145\170t",$_tgO3b); $_tgl3f=str_replace("\173conte\156\164}",$_tgO2n[$_tgl3c[0]['field']],$_tgl3f); $_tgl3a=$this->_tgO34->getrootnode(); $_tgl3a->text =$_tgl3f; $_tgl3a->expand = isset ($_tgO3j['meta']['expand']) ? $_tgO3j['meta']['expand']: TRUE; $_tgO3f=array(); foreach ($_tgl3c as $_tgl3g) { $_tgO3g=$_tgl3g['field']; if (empty($_tgO2n[$_tgO3g])) $_tgO3f[$_tgO3g]="\040"; else $_tgO3f[$_tgO3g]=$_tgO2n[$_tgO3g]; if (trim($_tgO3f[$_tgO3g]) == '') { $_tgO3f[$_tgO3g]=str_replace(' ','&nbsp;',$_tgO3f[$_tgO3g]); $_tgO3f[$_tgO3g]=html_entity_decode($_tgO3f[$_tgO3g]); } } $_tgl3j->_tgO2n =$_tgO3f; $_tgl3j->_tgl2o['expand']=$_tgl3j->expand; } else { $_tgl3j->_tgO2l =$_tgl3j->_tgO2k->_tgO2l.'_'.$_tgO2n[$_tgl3c[0]['field']]; $_tgl3j->expand = isset ($_tgO3j['meta']['expand']) ? $_tgO3j['meta']['expand']: TRUE; $_tgl3j->text =$_tgO2n[$_tgl3c[0]['field']]; $_tgO3f=array(); foreach ($_tgl3c as $_tgl3g) { $_tgO3g=$_tgl3g['field']; if (empty($_tgO2n[$_tgO3g])) $_tgO3f[$_tgO3g]="\040"; else $_tgO3f[$_tgO3g]=$_tgO2n[$_tgO3g]; if (trim($_tgO3f[$_tgO3g]) == '') { $_tgO3f[$_tgO3g]=str_replace(' ','&nbsp;',$_tgO3f[$_tgO3g]); $_tgO3f[$_tgO3g]=html_entity_decode($_tgO3f[$_tgO3g]); } } $_tgl3j->_tgO2n =$_tgO3f; $_tgl3j->_tgl2o['expand']=$_tgl3j->expand; } $_tgl3k=!empty($_tgO3j['meta']) ? $_tgO3j['meta']: array(); $_tgl3j->_tgl2o =_tgl3::_tgO9($_tgl3j->_tgl2o ,$_tgl3k); if ( isset ($_tgO3j['children'])) { foreach ($_tgO3j['children'] as $_tgO3k) { $_tgl3l=new _tgl2k(); $_tgl3l->_tgO2k =$_tgl3j; $_tgl3l=$this->_tgl3d($_tgl3l,$_tgO3k,$_tgl3c); $_tgl3j->addchild($_tgl3l); } } return $_tgl3j; } function _tgO3h($_tgO39,$_tgO3e) { $_tgO3b="\074sp\141\156\040id\075\047\173i\144\175' lev\145\154='\173\154\145vel\175\047 st\171\154\145='di\163\160\154ay:i\156\154ine-b\154\157ck'>\173\143\157ntent\175\074/span>"; if ( isset ($_tgO3e->_tgl2l)) foreach ($_tgO3e->_tgl2l as $_tgO3l) { $_tgl3f=str_replace("\173\151d}",$this->_tgO2l."\137".$_tgO3l->_tgO2l."_text",$_tgO3b); $_tgl3f=str_replace("\173level}",$_tgO3l->_tgl2n ,$_tgl3f); $_tgl3f=str_replace("\173con\164\145\156t}",$_tgO3l->text ,$_tgl3f); $_tgO39->add($_tgO3e->_tgO2l ,$_tgO3l->_tgO2l ,$_tgl3f,$_tgO3l->expand); $this->_tgO3h($_tgO39,$_tgO3l); } } public function set($_tgO2y) { $this->_tgl2x =_tgl3::_tgO9($this->_tgl2x ,$_tgO2y); return $this; } public function addsetting($_tgO2y) { $this->_tgl2x =_tgl3::_tgO9($this->_tgl2x ,$_tgO2y); return $this; } public function _tgl3m() { $_tgO3m=array(); $_tgl3n=array('id','divId','ktvId','style','styles','width','columns','rootIndent','treeIndent',); foreach ($this->_tgl2x as $_tgO3n => $_tgl3o) if (in_array($_tgO3n,$_tgl3n)) $_tgO3m[$_tgO3n]=$_tgl3o; $_tgO3m['stylePath']=$this->_tgO34->_tgl27(); return $_tgO3m; } function _tgO3o() { return $this->_tgl2x; } public function setid($_tgl1o) { $this->_tgO2l =$_tgl1o; } public function _tgl3p() { return $this->_tgO2l; } public function setdatasource($_tgOd) { $this->_tgl31 =treegriddatasource::_tgll($_tgOd); return $this; } public function setarraydata($_tgO1d) { $this->_tgl32 =$_tgO1d; return $this; } public function settreearray($_tgO1d) { $this->_tgO31 =$_tgO1d; return $this; } public function setcolumns($_tgl3c) { foreach ($_tgl3c as &$_tgl3g) { if (! isset ($_tgl3g['visible'])) $_tgl3g['visible']=TRUE; } $this->_tgl2x['columns']=$_tgl3c; return $this; } public function _tgO3c() { $_tgl3c=$this->_tgl2x['columns']; return $_tgl3c; } public function setparametervalues() { } private function _tgO3p() { if ( isset ($_POST[$this->_tgl3p()."\137view\163\164ate"])) { $_tgl2y=$_POST[$this->_tgl3p()."_vie\167\163tate"]; $this->_tgl34 =json_decode($_tgl2y,TRUE); } } private function _tgl3q() { $_tgl1o=$this->_tgl3p()."_vi\145\167\163tate"; $_tglr=json_encode($this->_tgl34); $_tgO3q=_tgO1l::_tgO1n($_tgl1o,$_tglr); return $_tgO3q->_tgO1f(); } public function _tgl3r() { $_tgO3r=str_replace("\134","",$this->_tgO34->rendertree()); $_tgl3s=$this->_tgl2p->_tgl2u(); $_tgl3s=str_replace('"','\\"',$_tgl3s); $_tgl1q=array('setting' => $this->_tgl3m(),'treeViewHtml' => $_tgO3r,'tree' => $_tgl3s,); return $_tgl1q; } public function _tgO3s() { $_tgl1o=$this->_tgl3p()."_d\141\164\141"; $_tglr=json_encode($this->_tgl3r(),JSON_HEX_TAG|JSON_HEX_APOS|JSON_HEX_QUOT|JSON_HEX_AMP|JSON_UNESCAPED_UNICODE); $_tgO3q=_tgO1l::_tgO1n($_tgl1o,$_tglr); return $_tgO3q->_tgO1f(); } public function render() { $_tgl2y='<div id="{id}" class="{class}KTG"></div>'; $_tgl2y=str_replace("\173id}",$this->_tgl2x['divId'],$_tgl2y); $_tgl2y=str_replace("\173cl\141\163\163}",$this->_tgl2x['style'],$_tgl2y); $_tgl2y.=$this->_tgO34->registercss($this->_tgl2x['styles']); $_tgl2y.=$this->_tgO3s(); $_tgl2y.=$this->_tgl3q(); $_tgl2y.=$this->_tgl3t(); $_tgl2y.=$this->_tgO3t(); $_tgl2y.=$this->_tgO34->_tgO21(); $_tgl2y.=$this->_tgl3u(); echo $_tgl2y; } private function _tgl3t() { $_tgl26="<script\040\164ype='t\145\170t/jav\141\163cript'\076\151f (ty\160\145of(K\157\157lTreeG\162\151dJS)==\047\165ndefin\145\144\047)\173\144\157cume\156\164\056writ\145\050unesc\141\160\145(\042\045\063Cs\143\162ip\164\040typ\145\075'tex\164\057javas\143\162ipt\047\040src=\047\173src}\047\0453E %\063\103/scr\151\160t%3E\042\051);}</\163\143ript\076\n"; $_tgO26=_tgl3::_tgO5("\173\163\162\143}",$this->_tgO3u()."?".md5("\152\163"),$_tgl26); return $_tgO26; } private function _tgO3t() { $_tgl26="var Koo\154\124\162eeGri\144\137\173id}\040\075 Kool\124\162\145eG\162\151dJS.n\145\167TreeGr\151\144\050'\173\151\144\175'); \113\157olTre\145\107\162id_\173\151\144}.ren\144\145r();"; $_tgO26=_tgl3::_tgO5("\173id}",$this->_tgl3p(),$_tgl26); $_tgOv=_tgO1l::_tgO1o()->_tgO15($_tgO26); return $_tgOv->_tgO1f(); } private function _tgl3u() { $_tgl26="Kool\124\162\145eGrid\112\123.getTr\145\145Grid('\173\151d}').\151\156it()\073"; $_tgO26=_tgl3::_tgO5("\173\151\144}",$this->_tgl3p(),$_tgl26); $_tgOv=_tgO1l::_tgO1o()->_tgO15($_tgO26); return $_tgOv->_tgO1f(); } private function _tgO3u() { { $_tgO6=_tgl3::_tgO4(); $_tgO2i=substr(_tgl3::_tgO5("\134","/",__FILE__),strlen($_tgO6)); return $_tgO2i; } } private function _tgl3v() { $_tgl2j=$this->_tgO3u(); $_tgO2j=_tgl3::_tgO5(strrchr($_tgl2j,"/"),"",$_tgl2j); return $_tgO2j; } } }?>