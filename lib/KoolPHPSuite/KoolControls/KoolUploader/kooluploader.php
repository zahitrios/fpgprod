<?php $_gl0="\062.\062\0560.0"; function _gO0($_gl1) { return md5($_gl1); } function _gO1() { $_gl2=_gO2("\134","/",strtolower($_SERVER["S\103RIPT_\116\101ME"])); $_gl2=_gO2(strrchr($_gl2,"\057"),"",$_gl2); $_gl3=_gO2("\134","\057",realpath("\056")); $_gO3=_gO2($_gl2,"",strtolower($_gl3)); return $_gO3; } function _gO2($_gl4,$_gO4,$_gl5) { return str_replace($_gl4,$_gO4,$_gl5); } class _gi10 { static $_gi10="\173\060\175\173\061}<di\166\040id\075\047\173\151d}'\040\143la\163\163\075'\173sty\154\145}\113\125L'\040s\164yle=\047wid\164\150:\173\167i\144\164h}\073heig\150t:\173\150eigh\164};'>\173\155\141inco\156\164ent\175\173uplo\141\144edFile\163\175\173tem\160\154ates}\074\057div>\173\062\175"; } function _gO5() { header("\103\157ntent-ty\160\145: text\057\152avasc\162\151pt"); } function _gl6() { echo "\166ar _giO\061\0750;"; } function _gO6() { return exit (); } function _gl7() { return _gi10::$_gi10; } function _gO7( &$_gl8) { for ($_gO8=0; $_gO8<3; $_gO8 ++) $_gl8=_gO2("\173".$_gO8."\175","",$_gl8); return TRUE; } if ( isset ($_GET[_gO0("js")])) { _gO5(); ?> function _gO(_go){return (_go!=null);}function _gY(_gy){return document.getElementById(_gy); }function _gI(_gi,_gA){var _ga=document.createElement(_gi); _gA.appendChild(_ga); return _ga; }function _gE(_go,_ge){if (!_gO(_ge))_ge=1; for (var i=0; i<_ge; i++)_go=_go.firstChild; return _go; }function _gU(_go,_ge){if (!_gO(_ge))_ge=1; for (var i=0; i<_ge; i++)_go=_go.nextSibling; return _go; }function _gu(_go,_ge){if (!_gO(_ge))_ge=1; for (var i=0; i<_ge; i++)_go=_go.parentNode; return _go; }function _gZ(_go,_gz){_go.style.height=_gz+"px"; }function _gX(_go,_gz){_go.style.width=_gz+"px"; }function _gx(_gW,_gw,_gV){_gV=_gO(_gV)?_gV:document.body; var _gv=_gV.getElementsByTagName(_gW); var _gT=new Array(); for (var i=0; i<_gv.length; i++)if (_gv[i].className.indexOf(_gw)>=0){_gT.push(_gv[i]); }return _gT; }function _gt(){var _gS=window.navigator.userAgent; var _gs=_gS.indexOf("MSIE "); if (_gs>0)return parseInt(_gS.substring(_gs+5,_gS.indexOf(".",_gs))); else return 0; }function getElementsByClassName(_gR,_gr){var a=[]; var _gQ=new RegExp("(^| )"+_gr+"( |$)"); var _gq=_gR.getElementsByTagName("*"); for (var i=0,_gP=_gq.length; i<_gP; i++)if (_gQ.test(_gq[i].className))a.push(_gq[i]); return a; }function _gp(){return (typeof(_giO1)=="undefined");}function _gN(_go,_gz){_go.style.display=(_gz)?"": "none"; }function _gn(_go){return (_go.style.display!="none"); }function _gM(_go){return _go.className; }function _gm(_go,_gz){_go.className=_gz; }function _gL(_gl,_gK,_gk){_gm(_gk,_gM(_gk).replace(_gl,_gK)); }function _gJ(_go,_gw){if (_go.className.indexOf(_gw)<0){var _gj=_go.className.split(" "); _gj.push(_gw); _go.className=_gj.join(" "); }}function _gH(_go,_gw){if (_go.className.indexOf(_gw)>-1){_gL(_gw,"",_go); var _gj=_go.className.split(" "); _go.className=_gj.join(" "); }}function _gh(_gG,_gg,_gF,_gf){if (_gG.addEventListener){_gG.addEventListener(_gg,_gF,_gf); return true; }else if (_gG.attachEvent){if (_gf){return false; }else {var _gD= function (){_gF.apply(_gG,[window.event]); };if (!_gG["ref"+_gg])_gG["ref"+_gg]=[]; else {for (var _gd in _gG["ref"+_gg]){if (_gG["ref"+_gg][_gd]._gF === _gF)return false; }}var _gC=_gG.attachEvent("on"+_gg,_gD); if (_gC)_gG["ref"+_gg].push( {_gF:_gF,_gD:_gD } ); return _gC; }}else {return false; }}function _gc(_gB){var a=_gB.attributes,i,_gb,_go0; if (a){_gb=a.length; for (i=0; i<_gb; i+=1){_go0=a[i].name; if (typeof _gB[_go0] === "function"){_gB[_go0]=null; }}}a=_gB.childNodes; if (a){_gb=a.length; for (i=0; i<_gb; i+=1){_gc(_gB.childNodes[i]); }}}function _gO0(_gl,_gl0){return _gl0.indexOf(_gl); }function _gi0(_gI0){if (_gI0.stopPropagation)_gI0.stopPropagation(); else _gI0.cancelBubble= true; }function _go1(_gO1,_gl1){var _gi1="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz" .split(""); var _gI1=_gi1,_go2=[],_gO2=Math.random; _gl1=_gl1 || _gI1.length; if (_gO1){for (var i=0; i<_gO1; i++)_go2[i]=_gI1[0|_gO2()*_gl1]; }else {var _gl2=0,_gi2; _go2[8]=_go2[13]=_go2[18]=_go2[23]="-"; _go2[14]="4"; for (var i=0; i<36; i++){if (!_go2[i]){_gi2=0|_gO2()*16; _go2[i]=_gI1[(i==19)?(_gi2&3)|8:_gi2&15]; }}}return _go2.join(""); }function _gI2(){var _go3=navigator.userAgent.toLowerCase(); if (_gO0("opera",_go3)!=-1){return "opera"; }else if (_gO0("firefox",_go3)!=-1){return "firefox"; }else if (_gO0("safari",_go3)!=-1){return "safari"; }else if ((_gO0("msie",_go3)!=-1) && (_gO0("opera",_go3)==-1)){return "ie"; }else {return "firefox"; }}function _gO3(_gk){var _gl3="{"; for (var _gi3 in _gk){switch (typeof(_gk[_gi3])){case "string":_gl3+="\""+_gi3+"\":\""+_gk[_gi3]+"\","; break; case "number":_gl3+="\""+_gi3+"\":"+_gk[_gi3]+","; break; case "object":_gl3+="\""+_gi3+"\":"+_gO3(_gk[_gi3])+","; break; }}if (_gl3.length>1)_gl3=_gl3.substring(0,_gl3.length-1); _gl3+="}"; if (_gl3=="{}")_gl3="null"; return _gl3; }var _gI3= {_go4:function (_gO4){return Object.prototype.toString.call(_gO4) === "[object Date]"; } ,_gl4:function (_gO4){return Object.prototype.toString.call(_gO4) === "[object Array]"; } ,_gi4:function (_gO4){return Object.prototype.toString.call(_gO4) === "[object Object]"; } ,_gI4:function (_gO4){return typeof _gO4 === "string"; } ,_go5:function (value){return typeof value === "number" && isFinite(value); } ,_gO5:function (_gl5,_gi5,p){var _gI5= true; if (typeof _gl5 === "string"){var _go6=_gi5; if (this._gI4(_go6))_go6=_go6.split(" "); if (!this._gl4(_go6))return false; for (var i in _go6){var _gO6=new RegExp("(\\s|^)"+_go6[i]+"(\\s|$)","i"); _gI5=_gI5 && _gO6.test(_gl5); }return _gI5; }else {if (!p)p="className"; if (_gl5 && this._gI4(_gl5[p]))_gI5=this._gO5(_gl5[p],_gi5); else _gI5= false; }return _gI5; } ,_gl6:function (_gl5,_gi5,p){var _gI5= false; if (typeof _gl5 === "string"){var _go6=_gi5; if (this._gI4(_go6))_go6=_go6.split(" "); if (!this._gl4(_go6))return false; for (var i in _go6){var _gO6=new RegExp("(\\s|^)"+_go6[i]+"(\\s|$)","i"); _gI5=_gI5 || _gO6.test(_gl5); }return _gI5; }else {if (!p)p="className"; if (_gl5 && this._gI4(_gl5[p]))_gI5=this._gl6(_gl5[p],_gi5); else _gI5= false; }return _gI5; } ,_gi6:function (_gl5,_gi5,p){var _gI5=_gl5; if (typeof _gl5 === "string"){var _go6=_gi5; if (this._gI4(_go6))_go6=_go6.split(" "); if (!this._gl4(_go6))return false; for (var i in _go6)if (!this._gO5(_gl5,_go6[i]))_gI5+=" "+_go6[i]; }else if (_gl5){if (!p)p="className"; if (!_gl5[p])_gl5[p]=""; _gI5[p]=this._gi6(_gl5[p],_gi5); }return _gI5; } ,_gI6:function (_gl5,_gi5,p){var _gI5=_gl5; if (typeof _gl5 === "string"){var _go6=_gi5; if (this._gI4(_go6))_go6=_go6.split(" "); if (!this._gl4(_go6))return false; for (var i in _go6){var _gO6=new RegExp("(\\s|^)"+_go6[i]+"(\\s|$)","ig"); _gI5=_gI5.replace(_gO6,""); }}else if (_gl5){if (!p)p="className"; if (_gl5[p])_gI5[p]=this._gI6(_gl5[p],_gi5); }return _gI5; }} ; var _go7= {} ; function KoolUploaderItem(_gy,files,_gO7){ this._gy=_gy; this.id=_gy; this.files=files; this._gO7=_gO7; }KoolUploaderItem.prototype= {_gl7:{ "pdf": "pdf_2-24","zip": "zip_2-24","rar": "zip_2-24","7z": "zip_2-24","xls": "excel_2-24","xlsx": "excel_2-24","jpg": "image_2-24","png": "image_2-24","gif": "image_2-24","txt": "text_2-24","doc": "word_2-24","docx": "word_2-24","ppt": "powerpoint_2-24","pptx": "powerpoint_2-24" } ,_gi7:function (){var _gI7=this._go8(); var _gO8=this.getFileName(); var _gl8=_gY(this._gy); if (!_gI7._gi8(_gO8)){var _gI8=_gx("span","kulStatus",_gl8)[0]; _gI8.innerHTML=_gY(_gI7._gy+".message.file_not_allowed").innerHTML; _gJ(_gl8,"kulNotAllowed"); _gJ(_gl8,"kulDone"); _gJ(_gI8,"kulError"); _gI7._go9("OnUploadDone", { "ItemId": this._gy } ); }if (_gO8.lastIndexOf(".")>0){var _gO9=_gO8.substr(_gO8.lastIndexOf(".")+1).toLowerCase(); var _gl9=_gx("span","kulThumbnail",_gY(this._gy))[0]; _gJ(_gl9,"kul"+_gO9); } this._gi9(); } ,_gI9:function (){var _gO8=this.getFileName(); if (_gO8.lastIndexOf(".")>0){var _gO9=_gO8.substr(_gO8.lastIndexOf(".")+1).toLowerCase(); var _goa=this._gl7[_gO9]?this._gl7[_gO9]: "file_2-24"; var _gl9=_gx("span","kulThumbnail",_gY(this._gy))[0]; _gJ(_gl9,"kul"+_gO9); }var _gl8=_gY(this._gy); _gJ(_gl8,"kulDone"); } ,_gi9:function (){var _gl8=_gY(this._gy); var _gOa=0; for (var i=0; i<_gl8.children.length; i+=1){if (_gOa<_gl8.children[i].offsetHeight)_gOa=_gl8.children[i].offsetHeight; }_gl8.style.height=_gOa+"px"; } ,_gla:function (){var _gl8=_gY(this._gy); var _gia=0; var _gIa=_gt(); if (_gIa !== 0 && _gIa<9)var _gob=getElementsByClassName(_gl8,"kulLeftMost")[0]; else var _gob=_gl8.getElementsByClassName("kulLeftMost")[0]; for (var i=0; i<_gob.children.length; i+=1){var _gOb=_gob.children[i]; if (_gia<_gOb.offsetWidth)_gia=_gOb.offsetWidth; }var _glb=document.createElement("div"); _glb.innerHTML="&nbsp;"; _glb.style.width=_gia+"px"; _glb.style.height="1px"; _gob.appendChild(_glb); } ,_go8:function (){return eval(this._gy.substring(0,_gO0(".",this._gy))); } ,_gib:function (_gIb){var _goc=_gx("span","kulProgress",_gY(this._gy))[0]; var _gOc=_gE(_goc); _gOc.title=_gIb+"%"; var _glc=_gOc.offsetWidth; _gOc.style.backgroundPosition="-"+(_glc*(100-_gIb)/100)+"px"; } ,setProgressText:function (_gic){var _goc=_gx("span","kulProgress",_gY(this._gy))[0]; var _gIc=_goc.lastChild; _gIc.innerHTML=_gic; } ,attachData:function (_gi3,_god){var _gOd=_gY(this._gy+".data"); var _gl8=_gY(this._gy); if (!_gO(_gOd)){_gOd=document.createElement("input"); _gOd.type="hidden"; _gOd.id=this._gy+".data"; _gOd.value="{}"; _gl8.appendChild(_gOd); }var _gld=eval("__="+_gOd.value); _gld[_gi3]=_god; _gOd.value=_gO3(_gld); } ,upload:function (){if (this.getStatus()!="ready")return; if (!this._go8()._go9("OnBeforeUpload", { "ItemId": this._gy } ))return; var _gI7=this._go8(); var _gl8=_gY(this._gy); var _gid=_gY(this._gy+".data"); var _gld=new Array(); if (_gO(_gid)){_gld=eval("__="+_gid.value); }try {var _gId=document.createElement("<iframe id='"+this._gy+".iframe' name='"+this._gy+".iframe' >"); _gl8.appendChild(_gId); }catch (_goe){var _gId=document.createElement("iframe"); _gId.name=this._gy+".iframe"; _gId.id=this._gy+".iframe"; _gl8.appendChild(_gId); }try {var _gOe=document.createElement("<form id='"+this._gy+".form' method='post' enctype='multipart/form-data' action='"+_gI7._gle+"' target='"+this._gy+".iframe'>"); _gl8.appendChild(_gOe); }catch (_goe){var _gOe=document.createElement("form"); _gOe.id=this._gy+".form"; _gOe.enctype="multipart/form-data"; _gOe.method="post"; _gOe.action=_gI7._gle; _gOe.target=this._gy+".iframe"; _gl8.appendChild(_gOe); }var _gie=document.createElement("input"); _gie.type="hidden"; _gie.name="UPLOAD_IDENTIFIER"; _gie.value=this._gy; _gOe.appendChild(_gie); var _gIe=document.createElement("input"); _gIe.type="hidden"; _gIe.name="fileIds"; var _gof=_gY(this._gy+".inputFileIds"); if (_gof && _gof.value){var _gOf=_gof.value.split(","); var _gIf=[]; for (var i=0; i<_gOf.length; i+=1){var _gog=new KoolUploaderItem(_gOf[i]); if (_gog.getStatus() === "ready" || _gog.getStatus() === "multiupload item")_gIf.push(_gOf[i]); }_gIe.value=_gIf.join(","); }else _gIe.value=this._gy; _gOe.appendChild(_gIe); var _gOg=document.createElement("input"); _gOg.type="hidden"; _gOg.name="MAX_FILE_SIZE"; _gOg.value=_gI7._glg; _gOe.appendChild(_gOg); var _gig=document.createElement("input"); _gig.type="hidden"; _gig.name=window["upload_progress_name"]; _gig.value=this._gy; _gOe.appendChild(_gig); if (_gI7._gIg !== ""){var _goh=document.createElement("input"); _goh.type="hidden"; _goh.name="targetFolder"; _goh.value=_gI7._gIg; _gOe.appendChild(_goh); }var _gOh=_gY(this._gy+".input"); var _glh=_gu(_gOh); _gc(_gOh); var files=this._gih(); if (!files){_gOh.id="KUL_FILE"; _gOh.name="KUL_FILE[]"; _gOe.appendChild(_gOh); }for (var _gi3 in _gld)if (typeof _gld[_gi3]!="function"){var _gIh=document.createElement("input"); _gIh.type="hidden"; _gIh.name=_gi3; _gIh.value=_gld[_gi3]; _gOe.appendChild(_gIh); }if (_glh)_gu(_glh).removeChild(_glh); if (!files){_gOe.submit(); }else {var _goi=this ; function _gOi(_gli){var _gii=JSON.parse(this.responseText); kuldonemultiple(_gii); if (this.readyState === 4)_goi._gIi(); }var _goj=new FormData(_gOe); for (var _gOj=0; _gOj<files.length; _gOj+=1)_goj.append("KUL_FILE[]",files[_gOj]); _goj.append("xhr", true); var _glj=new XMLHttpRequest(); _glj.open("POST",_gI7._gle); _gh(_glj,"load",_gOi); _glj.send(_goj); }_gJ(_gl8,"kulUploading"); _gI7._gij(this._gy); this._gib(0); this._go8()._go9("OnUpload", { "ItemId": this._gy } ); if (_gI7._gIj){if (!_gI7._go9("OnBeforeUpdateProgress", { "ItemId": this._gy } ))return; this.setProgressText("0%"); _gI7._go9("OnUpdateProgress", { "ItemId": this._gy } ); }} ,remove:function (){var _gI7=this._go8(); if (!_gI7._go9("OnBeforeRemove", { "ItemId": this._gy } ))return; this._gok(); var _gl8=_gY(this._gy); _gc(_gl8); try {var _gOk=_gu(_gY(_gl8.id+".input")); _gu(_gOk).removeChild(_gOk); }catch (_goe){}_gu(_gl8).removeChild(_gl8); _gI7._go9("OnRemove", { "ItemId": this._gy } ); } ,_gok:function (){if (this.getStatus()=="uploading"){var _gI7=this._go8(); if (!_gI7._go9("OnBeforeCancel", { "ItemId": this._gy } ))return; var _gl8=_gY(this._gy); _gH(_gl8,"kulUploading"); _gJ(_gl8,"kulDone"); var _gI8=_gx("span","kulStatus",_gl8)[0]; _gI8.innerHTML=_gY(_gI7._gy+".message.upload_cancel").innerHTML; var _gOe=_gY(this._gy+".form"); var _gId=_gY(this._gy+".iframe"); _gl8.removeChild(_gOe); _gl8.removeChild(_gId); _gI7._glk(this._gy); _gI7._go9("OnCancel", { "ItemId": this._gy } ); }} ,deleteItem:function (){if (this.getStatus() === "uploaded"){var _gI7=this._go8(); if (!_gI7._gik)return; if (!_gI7._go9("OnBeforeDelete", { "ItemId": this._gy } ))return; var _gI7=this._go8(); var _gl8=_gY(this._gy); try {var _gId=document.createElement("<iframe id='"+this._gy+".iframe' name='"+this._gy+".iframe' >"); _gl8.appendChild(_gId); }catch (_goe){var _gId=document.createElement("iframe"); _gId.name=this._gy+".iframe"; _gId.id=this._gy+".iframe"; _gl8.appendChild(_gId); }try {var _gOe=document.createElement("<form id='"+this._gy+".form' method='post' enctype='multipart/form-data' action='"+_gI7._gIk+"' target='"+this._gy+".iframe'>"); _gl8.appendChild(_gOe); }catch (_goe){var _gOe=document.createElement("form"); _gOe.id=this._gy+".form"; _gOe.enctype="multipart/form-data"; _gOe.method="post"; _gOe.action=_gI7._gIk; _gOe.target=this._gy+".iframe"; _gl8.appendChild(_gOe); }var _gie=document.createElement("input"); _gie.type="hidden"; _gie.name="UPLOAD_IDENTIFIER"; _gie.value=this._gy; _gOe.appendChild(_gie); var _gie=document.createElement("input"); _gie.type="hidden"; _gie.name="DELETE_IDENTIFIER"; var _gO8=this.getFileName(); _gie.value=_gO8; _gOe.appendChild(_gie); if (_gI7._gIg !== ""){var _goh=document.createElement("input"); _goh.type="hidden"; _goh.name="targetFolder"; _goh.value=_gI7._gIg; _gOe.appendChild(_goh); }_gOe.submit(); _gI7._go9("OnDelete", { "ItemId": this._gy } ); }} ,download:function (){if (this.getStatus() === "uploaded"){var _gI7=this._go8(); if (_gI7 && !_gI7._gol)return; if (!_gI7._go9("OnBeforeDownload", { "ItemId": this._gy } ))return; var _gl8=_gY(this._gy); try {var _gId=document.createElement("<iframe id='"+this._gy+".iframe' name='"+this._gy+".iframe' >"); _gl8.appendChild(_gId); }catch (_goe){var _gId=document.createElement("iframe"); _gId.name=this._gy+".iframe"; _gId.id=this._gy+".iframe"; _gl8.appendChild(_gId); }try {var _gOe=document.createElement("<form id='"+this._gy+".form' method='post' enctype='multipart/form-data' action='"+_gI7._gll+"' target='"+this._gy+".iframe'>"); _gl8.appendChild(_gOe); }catch (_goe){var _gOe=document.createElement("form"); _gOe.id=this._gy+".form"; _gOe.enctype="multipart/form-data"; _gOe.method="post"; _gOe.action=_gI7._gll; _gOe.target=this._gy+".iframe"; _gl8.appendChild(_gOe); }var _gie=document.createElement("input"); _gie.type="hidden"; _gie.name="UPLOAD_IDENTIFIER"; _gie.value=this._gy; _gOe.appendChild(_gie); var _gie=document.createElement("input"); _gie.type="hidden"; _gie.name="DOWNLOAD_IDENTIFIER"; var _gO8=this.getFileName(); _gie.value=_gO8; _gOe.appendChild(_gie); if (_gI7._gIg !== ""){var _goh=document.createElement("input"); _goh.type="hidden"; _goh.name="targetFolder"; _goh.value=_gI7._gIg; _gOe.appendChild(_goh); }_gOe.submit(); _gI7._go9("OnDownload", { "ItemId": this._gy } ); }} ,_gih:function (){return _go7[this._gy]; } ,_gIi:function (){ delete _go7[this._gy]; } ,getStatus:function (){var _gl8=_gY(this._gy); var _gw=_gM(_gl8); if (_gO0("kulDone",_gw)>0){var _gI8=_gx("span","kulStatus",_gl8)[0]; if (_gO0("kulError",_gM(_gI8))>0){return "failed"; }else {return "uploaded"; }}if (_gO0("kulDeleted",_gw)>0){return "deleted"; }else if (_gO0("kulUploading",_gw)>0){return "uploading"; }else {var _gOh=_gY(this._gy+".input"); if (!_gOh && !this._gih())return "multiupload item"; else return "ready"; }} ,getDescription:function (){var _gl8=_gY(this._gy); var _gIa=_gt(); if (_gIa !== 0 && _gIa<9)var _gil=getElementsByClassName(_gl8,"kulDescription"); else var _gil=_gl8.getElementsByClassName("kulDescription"); if (_gil.length>0){var _gIl=_gil[0].value; return _gIl; }else return ""; } ,getFileName:function (){var _gom=_gx("span","kulFileName",_gY(this._gy))[0]; return _gom.innerHTML; } ,getTotalBytes:function (){var _gOm=_gY(this._gy+".info"); var _gIm=eval("__="+_gOm.value); return parseInt(_gIm["bytes_total"]); } ,getUploadedBytes:function (){var _gOm=_gY(this._gy+".info"); var _gIm=eval("__="+_gOm.value); return parseInt(_gIm["bytes_uploaded"]); } ,getEstimatedTime:function (){return Math.round(this.getTotalBytes()/this.getAverageSpeed()); } ,getElapsedTime:function (){var _gOm=_gY(this._gy+".info"); var _gIm=eval("__="+_gOm.value); return parseInt(_gIm["time_last"])-parseInt(_gIm["time_start"]); } ,getEstimatedTimeLeft:function (){var _gOm=_gY(this._gy+".info"); var _gIm=eval("__="+_gOm.value); return parseInt(_gIm["est_sec"]); } ,getLastSpeed:function (){var _gOm=_gY(this._gy+".info"); var _gIm=eval("__="+_gOm.value); return _gIm["speed_last"]; } ,getAverageSpeed:function (){var _gOm=_gY(this._gy+".info"); var _gIm=eval("__="+_gOm.value); return _gIm["speed_average"]; } ,getUploadedPercent:function (){return this.getUploadedBytes()*100/this.getTotalBytes(); } ,_gon:function (_gI0){ this.upload(); } ,_gOn:function (_gI0){ this.remove(); } ,_gIn:function (_gI0){ this._gok(); } ,_goo:function (_gI0){ this.deleteItem(); } ,_gOo:function (_gT,_gIm){if (_gp())return; var _gl8=_gY(this._gy); _gH(_gl8,"kulUploading"); _gJ(_gl8,"kulDone"); var _gIo=this._go8()._gy; var _gI8=_gx("span","kulStatus",_gl8)[0]; _gI8.innerHTML=_gY(_gIo+".message."+_gT).innerHTML; if (_gO0("successful",_gT)>0){var _gOd=_gY(_gIo+"_uploadedFiles"); var _gop="[|-"+_gIm["name"]+"-|-"+_gIm["type"]+"-|-"+_gIm["size"]+"-|]"; if (_gO0(_gop,_gOd.value)<0)_gOd.value+=_gop; }else {_gJ(_gI8,"kulError"); }var _gOm=_gY(this._gy+".info"); var _gIm=eval("__="+_gOm.value); _gIm["bytes_uploaded"]=_gIm["bytes_total"]; _gOm.value=_gO3(_gIm); var _gIa=_gt(); if (_gIa !== 0 && _gIa<9)var _gOp=getElementsByClassName(_gl8,"kulFileName")[0]; else var _gOp=_gl8.getElementsByClassName("kulFileName")[0]; var _gI7=this._go8(); if (_gI7 && _gI7._gol && _gOp){_gOp.style.color="#189fee"; _gOp.style.cursor="pointer"; var _goi=this ; _gh(_gOp,"click", function (){_goi.download(); } , false); }var _gOe=_gY(this._gy+".form"); var _gId=_gY(this._gy+".iframe"); if (_gOe)_gl8.removeChild(_gOe); if (_gId)_gl8.removeChild(_gId); this._go8()._glk(this._gy); this._go8()._go9("OnUploadDone", { "ItemId": this._gy } ); } ,_glp:function (_gT,_gIm){var _gl8=_gY(this._gy); var _gIa=_gt(); if (_gIa !== 0 && _gIa<9)var _gOp=getElementsByClassName(_gl8,"kulFileName")[0]; else var _gOp=_gl8.getElementsByClassName("kulFileName")[0]; if (_gOp){_gOp.style.color=""; _gOp.style.cursor="auto"; _gOp.onclick="javascript: void 0;"; }_gH(_gl8,"kulDone"); _gJ(_gl8,"kulDeleted"); var _gI7=this._go8(); var _gIo=_gI7._gy; var _gI8=_gx("span","kulStatus",_gl8)[0]; _gI8.innerHTML=_gY(_gIo+".message.deleted").innerHTML; } ,_gip:function (_gIm){if (!_gO(_gY(this._gy)))return; if (this.getStatus()=="uploading" && _gO(_gIm)){var _gOm=_gY(this._gy+".info"); _gOm.value=_gO3(_gIm); var _gIp=_gI7._goq?Math.round(this.getUploadedPercent()):_gIm.progress; this._gib(_gIp); if (!this._go8()._go9("OnBeforeUpdateProgress", { "ItemId": this._gy } ))return; this.setProgressText(_gIp+"%"); this._go8()._go9("OnUpdateProgress", { "ItemId": this._gy } ); }}} ; function _gOq(url,_glq,_giq){var _gIq=url; if (_gIq.indexOf(_glq+"=")>=0){var _gor=_gIq.substring(0,_gIq.indexOf(_glq)); var _gOr=_gIq.substring(_gIq.indexOf(_glq)); _gOr=_gOr.substring(_gOr.indexOf("=")+1); _gOr=(_gOr.indexOf("&")>=0)?_gOr.substring(_gOr.indexOf("&")): ""; _gIq=_gor+_glq+"="+_giq+_gOr; }else {if (_gIq.indexOf("?")<0)_gIq+="?"+_glq+"="+_giq; else _gIq+="&"+_glq+"="+_giq; }return _gIq; }function _glr(id){var _glb=document.getElementById(id); var _gir=_glb.firstChild.firstChild; var _gIr=_gir.firstChild.firstChild; var _gos=_gir.lastChild.firstChild; var _go5= function _go5(value){return typeof value === "number" && isFinite(value); } ; var _gOs=parseInt(_gos.style.height); _gOs=_go5(_gOs)?_gOs: 0; var _gls=parseInt(_glb.style.height); _gls=_go5(_gls)?_gls: 0; _gIr.style.height=(_gls-_gOs)+"px"; }function KoolUploader(_gIm){with (_gIm){_glr(id); this._gy=id; this.id=id; if (handlePage !== ""){ this._gle=_gOq(handlePage,upload,1); this._gis=_gOq(handlePage,status,1); this._gIs=_gOq(handlePage,progress,1); this._gIk=_gOq(handlePage,del,1); this._gll=_gOq(handlePage,download,1); }else {var url=document.URL; this._gle=_gOq(url,upload,1); this._gis=_gOq(url,status,1); this._gIs=_gOq(url,progress,1); this._gIk=_gOq(url,del,1); this._gll=_gOq(url,download,1); } this._got=updateProgressInterval; this._goq=peclUploadProgress; this._gIj=progressTracking; this._gOt=allowedExtension; this._gIg=targetFolder; this._glt=currentFiles; this._git=mustHaveFiles; this._gik=allowDelete; this._gol=allowDownload; this._gIt=autoUpload; this._gou=multipleUpload; this._glg=maxFileSize; this._gOu=errorMessage1; this._glu=errorMessage2; this._giu=dragAndDrop; this._gIu=new Array(); this._gov=new Array(); this._gOv= false; this._glv=(new Date()).getTime(); this._gi7(); }}KoolUploader.prototype= {_gi7:function (){var _gOd=_gY(this._gy+"_uploadedFiles"); _gOd.value=""; this._giv(); var _gIv=_gY(this._gy+".btn.uploadall"); if (_gO(_gIv)){_gh(_gIv,"click",_gow, false); }var _gOw=_gY(this._gy+".btn.clearall"); if (_gO(_gOw)){_gh(_gOw,"click",_glw, false); }var _glb=document.getElementById(this._gy); var _gir=_glb.firstChild.firstChild; var _giw=_gir.firstChild; var _gIr=_giw.firstChild; var _gIw=_giw.nextSibling; var _gox=_gIw.firstChild; _gIr.style.height=(parseInt(_glb.style.height)-parseInt(_gox.style.height))+"px"; for (var i=0; i<this._glt.length; i+=1){var _gOx=this._glt[i]; this._glx(_gOx); }if (this._giu){var _gix=_gY(this._gy+".container"); _gh(_gix,"dragover",_gIx, false); _gh(_gix,"dragleave",_goy, false); _gh(_gix,"drop",_gOy, false); }} ,getItems:function (){var _gly=_gx("div","kulItem",_gY(this._gy+".container")); var _giy=new Array(); for (i in _gly)if (typeof _gly[i]!="function"){_giy.push(new KoolUploaderItem(_gly[i].id)); }return _giy; } ,getItem:function (_gIy){return (new KoolUploaderItem(_gIy)); } ,getItemsStatus:function (){var _goz=[]; var _giy=this.getItems(); var _gOz=this.getAllDescriptions(); for (var i=0; i<_giy.length; i+=1){var _gl8=_giy[i]; var _glz=_gl8.getStatus(); if (_glz === "uploaded"){var _giz=_gl8.getDescription(); for (var _gP=0; _gP<_gOz.length; _gP+=1)if (_gOz[_gP] === _giz){_gOz.splice(_gP,1); break; }var _gIz= {name:_gl8.getFileName(),description:_giz } ; _goz.push(_gIz); }}if (_gOz.length === 0)return JSON.stringify(_goz); else {var _go10=_gY(this._gy); var _gO10=_go10.firstChild; var _gIa=_gt(); if (_gIa !== 0 && _gIa<9)var _gl10=getElementsByClassName(_gO10,"kulMessage")[0]; else var _gl10=_gO10.getElementsByClassName("kulMessage")[0]; var _gi10=this._gOu; _gi10+="\x3cul style=\"list-style-position:inside; color:red\">"; for (var i=0; i<_gOz.length; i+=1)_gi10+="<li>"+_gOz[i]+"</li>"; _gi10+="</ul>"; _gi10+=this._glu; var _gI10= false; if (_gl10.style.display === "none"){_gI10= true; }_gl10.firstChild.innerHTML=_gi10; _gl10.style.display=""; if (_gI10)_go10.style.height=parseFloat(_go10.style.height)+_gl10.offsetHeight+"px"; return false; }} ,getAllDescriptions:function (){var _go11=_gY(this._gy+".template.item"); var _gIa=_gt(); if (_gIa !== 0 && _gIa<9)var _gO11=getElementsByClassName(_go11,"kulDescription")[0]; else var _gO11=_go11.getElementsByClassName("kulDescription")[0]; var _gOz=[]; if (_gO11 && _gO11.options){var _gl11=_gO11.options; for (var i=0; i<_gl11.length; i+=1)if (_gl11[i].value !== "")_gOz.push(_gl11[i].value); }return _gOz; } ,uploadAll:function (){if (!this._go9("OnBeforeUploadAll",null))return; if (_gp())return; var _giy=this.getItems(); for (i in _giy)if (typeof _giy[i]!="function")if (_giy[i].getStatus()=="ready"){_giy[i].upload(); } this._go9("OnUploadAll",null); } ,clearAll:function (){if (!this._go9("OnBeforeClearAll",null))return; var _giy=this.getItems(); for (var i in _giy)if (typeof _giy[i]!="function"){_giy[i].remove(); } this._go9("OnClearAll",null); } ,_gi8:function (_gO8){if (this._gOt === "*")return true; var _gi11=this._gOt.toLowerCase().split(","); for (var i in _gi11)if (typeof _gi11[i]!="function"){var _gI11=eval("/(."+_gi11[i]+")$/"); if (_gO8.toLowerCase().match(_gI11))return true; }return false; } ,_gij:function (_gIy){if (_gp())return; if (this._gIj){var _go12="["+this._gov.join("][")+"]"; if (_gO0("["+_gIy+"]",_go12)<0){ this._gov.push(_gIy); }if (!this._gOv){ this._gO12(); }}} ,_glk:function (_gIy){var _gl12=new Array(); for (i in this._gov)if (typeof this._gov[i]!="function")if (this._gov[i]!=_gIy){_gl12.push(this._gov[i]); } this._gov=_gl12; } ,_gO12:function (){var _gi12=new KoolAjaxRequest( {method: "get",url:_gI7._goq?_gI7._gis:_gI7._gIs,onDone:_gI12,onError:_go13,_gIo: this._gy } ); for (var i in this._gov)if (typeof this._gov[i]!="function"){_gi12.addArg("itemids[]",this._gov[i]); }koolajax.sendRequest(_gi12); this._gOv= true; this._glv=(new Date()).getTime(); } ,SMR:function (){ this._gO12(); } ,_gO13:function (_gld){try {_gld=eval("__="+_gld); }catch (_gl13){_gld=[]; }for (var _gIy in _gld)if (typeof _gld[_gIy]!="function"){ (new KoolUploaderItem(_gIy))._gip(_gld[_gIy]); }if (this._gOv && (this._gov.length>0)){var _gi13=(new Date()).getTime(); if (_gi13-this._glv>this._got){ this._gO12(); }else {setTimeout(this._gy+".SMR()",this._got-(_gi13-this._glv)); }}else { this._gOv= false; }} ,_gI13:function (_go14){ this._go9("OnError", { "Error":_go14 } ); } ,_glx:function (_gOx){var _gO14=this._gy; var _gl14=_go1(13,16); var _gi14=_gE(_gY(_gO14+".template.item")).cloneNode( true); _gi14.id=_gO14+".item"+_gl14; var _gI14=_gY(_gO14+".container"); _gI14.appendChild(_gi14); var _gom=_gx("span","kulFileName",_gi14)[0]; var _go15=_gx("span","kulUpload",_gi14)[0]; var _gO15=_gx("span","kulRemove",_gi14)[0]; var _gl15=_gx("span","kulCancel",_gi14)[0]; var _gi15=_gx("span","kulDelete",_gi14)[0]; _go15.id=_gi14.id+".btn.upload"; _gO15.id=_gi14.id+".btn.remove"; _gl15.id=_gi14.id+".btn.cancel"; if (_gi15)_gi15.id=_gi14.id+".btn.delete"; if (_gi15 && !this._gik){_gi15.parentNode.removeChild(_gi15); }_gom.innerHTML=_gOx.name; _gh(_gi15,"click",_gI15, false); var _gIa=_gt(); if (_gIa !== 0 && _gIa<9)var _go16=getElementsByClassName(_gi14,"kulDescription")[0]; else var _go16=_gi14.getElementsByClassName("kulDescription")[0]; if (_go16){_go16.value=_gOx.description; }var _gog=new KoolUploaderItem(_gi14.id); _gog._gI9(); if (this._gol){_gom.style.color="#189fee"; _gom.style.cursor="pointer"; }var _goi=_gog; _gh(_gom,"click", function (){_goi.download(); } , false); } ,_giv:function (){var _gO16=_gY(this._gy+".btn.add"); var _gl16=_gI("span",_gO16); var _gi16=document.createElement("input"); _gi16.type="file"; _gi16.id=this._gy+".new.input"; _gi16.name=this._gy+".new.input"; var _gI16=this._gOt.split(","); for (var i in _gI16)_gI16[i]="."+_gI16[i]; _gI16=_gI16.join(","); _gi16.setAttribute("accept",_gI16); if (this._gou)_gi16.setAttribute("multiple",""); _gl16.appendChild(_gi16); _gm(_gl16,"kulFileInput"); _gh(_gi16,"mouseover",_go17, false); _gh(_gi16,"mouseout",_gO17, false); _gh(_gi16,"change",_gl17, false); } ,_gi17:function (files){var _gO14=this._gy; var _gI17=_gY(_gO14+".new.input"); if (_gI17.value=="" && !files)return; var _go18=[]; var _gIa=_gt(); if (!files){if (_gIa !== 0 && _gIa<10){var _gO8=_gI17.value.replace(/\\/g,"/"); _gO8=_gO8.substring(_gO8.lastIndexOf("/")+1,_gO8.length); _gI17.name=_gO8; files=[_gI17]; }else files=_gI17.files; }for (var i=0; i<files.length; i+=1){var _gO8=files[i].name; if (!this._go9("OnBeforeAddItem", { "FileName":_gO8 } ))return; var _gl14=_go1(13,16); _gI17.id=_gO14+".item"+_gl14+".input"; _gI17.name=_gO14+".item"+_gl14+".input"; var _gi14=_gE(_gY(_gO14+".template.item")).cloneNode( true); _gi14.id=_gO14+".item"+_gl14; _go18.push(_gi14.id); var _gI14=_gY(_gO14+".container"); _gI14.appendChild(_gi14); var _gom=_gx("span","kulFileName",_gi14)[0]; var _go15=_gx("span","kulUpload",_gi14)[0]; var _gO15=_gx("span","kulRemove",_gi14)[0]; var _gl15=_gx("span","kulCancel",_gi14)[0]; var _gi15=_gx("span","kulDelete",_gi14)[0]; _go15.id=_gi14.id+".btn.upload"; _gO15.id=_gi14.id+".btn.remove"; _gl15.id=_gi14.id+".btn.cancel"; _gi15.id=_gi14.id+".btn.delete"; if (!this._gik)_gi15.parentNode.removeChild(_gi15); _gom.innerHTML=_gO8; _gh(_gi14,"click",_gO18, false); _gh(_go15,"click",_gl18, false); _gh(_gO15,"click",_gi18, false); _gh(_gl15,"click",_gI18, false); _gh(_gi15,"click",_gI15, false); if (i<files.length-1){_go15.style.visibility="hidden"; _gO15.style.visibility="hidden"; _gl15.style.visibility="hidden"; }var _gOm=document.createElement("input"); _gOm.type="hidden"; _gOm.id=_gi14.id+".info"; _gi14.appendChild(_gOm); _gOm.value="{'time_start':'0','time_last':'1','speed_average':'1','speed_last':'1','bytes_uploaded' :'0','bytes_total':'1','files_uploaded':'1','est_sec':'0'}"; if (i === files.length-1){var _gof=document.createElement("input"); _gof.type="hidden"; _gof.id=_gi14.id+".inputFileIds"; _gi14.appendChild(_gof); _gof.value=_go18.join(","); if ((_gIa === 0 || _gIa>9) && _gI17.files && _gI17.files.length === 0){_go7[_gi14.id]=files; }}var _gl8=new KoolUploaderItem(_gi14.id); _gl8._gi7(); this._go9("OnAddItem", { "ItemId":_gi14.id } ); this._go19(); } this._giv(); if (this._gIt)_gl8.upload(); } ,_gO19:function (_gI0){ this.uploadAll(); } ,_gl19:function (_gI0){ this.clearAll(); } ,registerEvent:function (_gi19,_gI19){if (_gp())return; this._gIu[_gi19]=_gI19; } ,_go9:function (_gi3,_go1a){return (_gO(this._gIu[_gi3]))?this._gIu[_gi3](this,_go1a): true; } ,_go19:function (){var _gO1a=_gY(this._gy+".container"); var _gl1a=_gO1a.scrollHeight,_gi1a=25,i=0; var _gI1a= function (){_gO1a.scrollTop+=_gl1a/_gi1a; i+=1; if (i<_gi1a && _gO1a.scrollTop<_gl1a)setTimeout(_gI1a,10); } ; setTimeout(_gI1a,10); }} ; function _go8(_go1b){return eval(_go1b.substring(0,_gO0(".",_go1b))); }var kuldone= function (_gy,_gT,_gIm){ (new KoolUploaderItem(_gy))._gOo(_gT,_gIm); } ; var kuldonemultiple= function (_gO1b){for (var i=0; i<_gO1b.length; i+=1){var _gIm=_gO1b[i]; var _gl8=new KoolUploaderItem(_gIm.id); _gl8._gOo(_gIm.result,_gIm); }} ; var kuldeletedone= function (_gy,_gT,_gIm){ (new KoolUploaderItem(_gy))._glp(_gT,_gIm); } ; function _go17(_gI0){var _gO16=_gu(this,2); _gJ(_gO16,"kulAddOver"); }function _gO17(_gI0){var _gO16=_gu(this,2); _gH(_gO16,"kulAddOver"); }function _gl17(_gI0){_gI7=_go8(this.id); _gI7._gi17(); }function _gO18(_gI0){var _gly=_gx("div","kulItem",_gu(this )); for (var i in _gly)if (typeof _gly[i]!="function"){_gH(_gly[i],"kulSelected"); }_gJ(this,"kulSelected"); }function _glw(_gI0){_gI7=_go8(this.id); _gI7._gl19(_gI0); }function _gow(_gI0){_gI7=_go8(this.id); _gI7._gO19(_gI0); }function _gl18(_gI0){_gl1b=new KoolUploaderItem(this.id.replace(".btn.upload","")); _gl1b._gon(_gI0); }function _gi18(_gI0){var _gl1b=new KoolUploaderItem(this.id.replace(".btn.remove","")); var _gof=_gY(_gl1b._gy+".inputFileIds"); if (_gof && _gof.value){var _gi1b=_gof.value.split(","); for (var i=0; i<_gi1b.length; i+=1){var _gl8=new KoolUploaderItem(_gi1b[i]); _gl8._gOn(_gI0); }}else {_gl1b._gOn(_gI0); }_gi0(_gI0); }function _gI18(_gI0){_gl1b=new KoolUploaderItem(this.id.replace(".btn.cancel","")); _gl1b._gIn(_gI0); }function _gI15(_gI0){_gl1b=new KoolUploaderItem(this.id.replace(".btn.delete","")); _gl1b._goo(_gI0); }function _gIx(_gli){_gli.stopPropagation(); _gli.preventDefault(); var _gI1b=_gli.currentTarget; _gI3._gi6(_gI1b.parentNode,"fileDragOver"); }function _goy(_gli){var _gI1b=_gli.currentTarget; _gI3._gI6(_gI1b.parentNode,"fileDragOver"); }function _gOy(_gli){_gli.stopPropagation(); _gli.preventDefault(); var _gI1b=_gli.currentTarget; _gI3._gI6(_gI1b.parentNode,"fileDragOver"); var _go1c=_gI1b.id.replace(".container",""); var _gO1c=window[_go1c]; var files=_gli.target.files || _gli.dataTransfer.files; _gO1c._gi17(files); }function _gI12(_gld){_gI7=eval("__="+this._gIo); _gI7._gO13(_gld); }function _go13(_go14){_gI7=eval("__="+this._gIo); _gI7._gI13(_go14); } <?php _gl6(); _gO6(); } function _gl9($_gO9,$_gla) { $_gOa=""; foreach ($_gO9->childNodes as $_glb) { $_gOa.=$_gla->savexml($_glb); } return trim($_gOa); } if (!class_exists("\113ool\125\160\154oad\145\162",FALSE)) { class kooluploadhandler { var $targetFolder=""; var $allowedExtension="*"; var $funcFileHandle=NULL; var $allowDelete=FALSE; var $allowDownload=FALSE; function _gOb($_glc) { if ($this->allowedExtension == '*') return TRUE; $_glc=strtolower($_glc); $_gOc=explode(",",strtolower($this->allowedExtension)); foreach ($_gOc as $_gld) if (preg_match("\057(\134.".$_gld.")\044\057",$_glc)) return TRUE; return FALSE; } function handleupload() { $_gOd=''; if ( isset ($_POST['targetFolder'])) $_gOd=$_POST['targetFolder']; else $_gOd=_gO2("\134","/",$this->targetFolder); if ( isset ($_GET[md5( __FILE__."upl\157ad")])) { $_gle=array(); if (!file_exists($_gOd)) { mkdir($_gOd,0777,TRUE); } $_gOe=$_FILES["\113UL_FI\114\105"]; if (count($_gOe['error'])) { $_glf=explode(',',$_POST["fileI\144s"]); for ($_gO8=0; $_gO8<count($_gOe['error']); $_gO8 ++) { $_gOf="\165\160load\137\146ail\145\144"; $_glg=$_gOe['error'][$_gO8]; switch ($_glg) { case 0: if ($this->_gOb($_gOe["\156\141me"][$_gO8])) { if ($this->funcFileHandle != NULL) { $_gOg=array(); $_glh=array("\156ame","type","t\155\160\137name","er\162\157\162","s\151\172\145"); for ($_gOh=0; $_gOh<count($_glh); $_gOh ++) $_gOg[$_glh[$_gOh]]=$_gOe[$_glh[$_gOh]][$_gO8]; $_gOi=$this->funcFileHandle; if ($_gOi($_gOg) == TRUE) { $_gOf="\165pload\137\163uccess\146\165l"; } else { $_gOf="uplo\141\144\137fai\154\145\144"; } } else { if (move_uploaded_file($_gOe["\164\155p_name"][$_gO8],$_gOd."/".$_gOe["name"][$_gO8])) { $_gOf="up\154\157ad_succ\145\163sful"; } else { $_gOf="\165\160load_fai\154\145d"; } } } else { $_gOf="\146\151\154e_no\164\137\141llow\145\144"; } break; case 1: $_gOf="\146\151le_bi\147\147er_tha\156\137php_a\154\154ow"; break; case 2: $_gOf="file\137\142\151gger\137\164han_f\157\162m_all\157\167"; break; case 3: $_gOf="only_\160\141\162t_of\137\146ile_u\160\154oaded"; break; case 4: default : $_gOf="upload\137\146\141iled"; break; } $_gOf=array('id' => $_glf[$_gO8],"name" => $_gOe["\156\141me"][$_gO8],"\164ype" => $_gOe["t\171\160\145"][$_gO8],"size" => $_gOe["s\151\172\145"][$_gO8],"\162\145sult" => $_gOf); array_push($_gle,$_gOf); } } $_glj="<\163\143ript ty\160\145='text\057\152avas\143\162ipt'\076\164ry\173\167indo\167\056paren\164\056kuldo\156\145mult\151\160le(\173\151\156fo}\051\073}cat\143\150(e)\173\143\157nsol\145\056log(e\056\155essa\147\145\051;}<\057\163crip\164\076"; $_gOj=json_encode($_gle); $_glk=_gO2("\173info}",$_gOj,$_glj); if ( isset ($_POST['xhr'])) { ob_end_clean(); echo $_gOj; exit (); } else return $_glk; } else if ( isset ($_GET[md5( __FILE__."\163tatus")])) { $_gOk="\047\173i\144\175':\173v\175"; $_gll="\173't\151\155\145_sta\162\164':'0'\054\047time\137\154ast':\047\060','\163\160eed_\141\166erage\047\072'1','\163\160eed_l\141\163t':'\061\047,'byt\145\163_uplo\141\144ed' :\047\060','b\171\164es_to\164\141l':'1\047\054'fil\145\163_uplo\141\144ed':'\061\047,'e\163\164_sec\047\072'0'}"; $_glm=array(); if ( isset ($_GET["\151\164emids"])) { $_glm=$_GET["\151temid\163"]; } $_gOf="\173"; for ($_gO8=0; $_gO8<sizeof($_glm); $_gO8 ++) { $_gOm=(function_exists("up\154\157\141dpro\147\162ess_g\145\164_info")) ? json_encode(uploadprogress_get_info($_glm[$_gO8])): $_gll; $_gln=_gO2("\173\151d}",$_glm[$_gO8],$_gOk); $_gln=_gO2("\173\166\175",$_gOm,$_gln); $_gOf.=$_gln; if ($_gO8<sizeof($_glm)-1) $_gOf.=","; } $_gOf.="}"; return $_gOf; } else if ( isset ($_GET[md5( __FILE__."progre\163\163")])) { $_gOn=explode('.',phpversion()); if (($_gOn[0]*023420+$_gOn[1]*0144+$_gOn[2])<0142340) exit ('PHP 5.4.0 or higher is required'); if (!intval(ini_get('session.upload_progress.enabled'))) exit ('session.upload_progress.enabled is not enabled'); error_reporting(0); $_gOk="'\173\151\144}':\173\166\175"; $_glm=array(); if ( isset ($_GET["\151temid\163"])) { $_glm=$_GET["\151\164emids"]; } $_gOf="\173"; for ($_gO8=0; $_gO8<sizeof($_glm); $_gO8 ++) { $_glo=ini_get("\163ession\056\165pload_\160\162ogress\056\160refix").$_glm[$_gO8]; $_gOo=0; if (empty($_SESSION[$_glo])) { $_gOo=0144; } else { $_glp=$_SESSION[$_glo]; $_gOo=round(($_glp['bytes_processed']/$_glp['content_length'])*0144,2); } $_gOm="\173\047\160\162ogre\163\163\047:".$_gOo.",'bytes_\160\162\157cesse\144\047\072".$_glp['bytes_processed']."\054\047content_\154\145ngth':".$_glp['content_length']."\175"; $_gln=_gO2("\173\151d}",$_glm[$_gO8],$_gOk); $_gln=_gO2("\173v}",$_gOm,$_gln); $_gOf.=$_gln; if ($_gO8<sizeof($_glm)-1) $_gOf.=","; } $_gOf.="}"; return $_gOf; } else if ( isset ($_GET[md5( __FILE__."delet\145")])) { if (!$this->allowDelete) return FALSE; $_gOf="Begin d\145\154\145tin\147"; if ( isset ($_POST["DELE\124\105\137IDENT\111\106\111ER"])) { $_glc=$_POST["DELETE_\111\104\105NTIFI\105\122"]; $_gOd=''; if ( isset ($_POST['targetFolder'])) $_gOd=$_POST['targetFolder']; else $_gOd=_gO2("\134","\057",$this->targetFolder); $_gOp=unlink($_gOd."\057".$_glc); if ($_gOp) $_gOf=$_gOd."\057".$_glc."\040is de\154\145ted"; else $_gOf=$_gOd."/".$_glc." is NOT \144\145\154eted"; } else $_gOf="No \144\145\154ete_i\144\145\156tifi\145\162"; $_glj="<scr\151\160\164 type\075\047text/\152\141vascri\160\164'>try\173\167ind\157\167.paren\164\056kuldel\145\164\145done\050\047\173id\175\047,'\173r\145\163ult}',\173\151nfo});\175\143atch(e\051\173}</scr\151\160t>"; $_glk=_gO2("\173id}",$_POST["UPLO\101\104\137IDEN\124\111\106IER"],$_glj); $_glk=_gO2("\173resu\154\164\175",$_gOf,$_glk); $_glk=_gO2("\173\151nfo}","\173}",$_glk); return $_glk; } else if ( isset ($_GET[md5( __FILE__."do\167\156\154oad")])) { if (!$this->allowDownload) return FALSE; $_gOf="Begin d\157\167\156load\151\156\147"; if ( isset ($_POST["DOWN\114\117\101D_IDE\116\124\111FIER"])) { $_glc=$_POST["DOWNLOA\104\137\111DENTI\106\111\105R"]; $_gOd=''; if ( isset ($_POST['targetFolder'])) $_gOd=$_POST['targetFolder']; else $_gOd=_gO2("\134","/",$this->targetFolder); $_glq=$_gOd."/".$_glc; $_gOq=substr(strrchr($_glc,'.'),1); $_glr=$this->_gls($_glq); if (file_exists($_glq)) { header('Content-Type: '.$_glr); header('Content-Disposition: attachment;filename="'.basename($_glc).'"'); header('Content-Length: '.filesize($_glq)); readfile($_glq); } else { header('HTTP/1.1 404 Not Found'); } } else { $_gOf="\116o\040DOWNL\117AD_I\104\105N\124\111FI\105\122"; $_glj="<s\143\162ip\164\040t\171\160e=\047tex\164/ja\166asc\162\151pt\047>tr\171\173\167\151nd\157\167.\160\141re\156\164.k\165\154do\167nl\157\141dd\157ne(\047\173i\144}',\047\173r\145\163ul\164\175',\173inf\157\175)\073}ca\164\143h\050e)\173\175</s\143rip\164\076"; $_glk=_gO2("\173id}",$_POST["\125P\114\117AD_\111DEN\124\111F\111ER"],$_glj); $_glk=_gO2("\173resu\154\164}",$_gOf,$_glk); $_glk=_gO2("\173\151nfo\175","\173\175",$_glk); return $_glk; } } } function _gls($_gOs) { $_glt=realpath($_gOs); if ($_glt && function_exists('finfo_file') && function_exists('finfo_open') && defined( "_gOt")) { return _glu(_gOu(_gOt),$_glt); } if (function_exists('mime_content_type')) { return mime_content_type($_glt); } return FALSE; } function _glv() { $_gOf="\102egi\156\040d\145\154et\151\156g"; if ( isset ($_POST["DELE\124\105_ID\105NTIF\111\105R"])) { $_glq=$_POST["DEL\105\124E_I\104\105NT\111\106IE\122"]; $_gOd=''; if ( isset ($_POST['targetFolder'])) $_gOd=$_POST['targetFolder']; else $_gOd=_gO2("\134","\057",$this->targetFolder); unlink($_gOd."/".$_glq); $_gOf=$_gOd."/".$_glq." is d\145\154\145te\144"; } else $_gOf="N\157\040delete_\151\144entif\151\145r"; $_glj="\074script \164\171pe='tex\164\057java\163\143ript'\076\164ry\173\167indo\167\056pare\156\164.kuld\145\154etedo\156\145\050'\173\151d}','\173\162esult\175\047,\173i\156\146o});}\143\141\164ch(\145\051\173}<\057\163cript\076"; $_glk=_gO2("\173\151\144}",$_POST["\125\120LOAD_ID\105\116TIFIER"],$_glj); $_glk=_gO2("\173res\165\154t}",$_gOf,$_glk); $_glk=_gO2("\173inf\157\175","\173\175",$_glk); return $_glk; } } class kooluploader { var $_gl0="\062\0562.0.0"; var $id; var $styleFolder=""; var $_gOv; var $scriptFolder=""; var $handlePage=""; var $texts=array("BU\124\124ON_ADD" => "A\144\144","BUTTON\137\125\120LOAD\137\101\114L" => "Upload\040\101\154l","BUTTON_\103\114\105AR_AL\114" => "Cle\141\162\040All","BUTTON_U\120\114\117AD" => "\125\160\154oad","B\125\124\124ON_RE\115\117\126E" => "\122\145move","\102\125TTON_\103\101\116CEL" => "Cance\154","BUTT\117\116\137DELET\105" => "Delete","\115ESSAGE\137\125PLOAD_S\125\103CESS\106\125\114" => "\125\160\154oaded!","MESSAGE\137\106\111LE_NO\124\137ALLOWE\104" => "\116ot all\157\167\145d!","\115\105SSAGE_\106\111\114E_BIG\107\105\122_THA\116\137PHP_A\114\114OW" => "\124he \146\151le i\163\040too\040big!","MESSAG\105\137FIL\105\137BIG\107\105R\137\124HA\116\137FO\122\115_A\114LOW" => "\124he fi\154\145 is\040\164oo\040\142ig\041","M\105\123\123AGE_\117\116LY_PAR\124\137OF_FI\114\105_UPLO\101\104ED" => "\116\157t comp\154\145ted!","ME\123\123\101\107E_UPLOA\104\137FAILED" => "Fai\154\145\144 to u\160\154\157ad!","ME\123\123\101GE_UP\114\117\101D_CA\116\103\105L" => "Upload c\141\156\143elled\041","\115\105SSAGE\137\104\105LETED" => "\104\145\154eted!"); var $width="\06300px"; var $height="200px"; var $updateProgressInterval=012; var $progressTracking=FALSE; var $showProgressBar=TRUE; var $maxFileSize=07502200; var $uploadedFiles=array(); var $allowedExtension="*"; var $targetFolder=''; var $currentFiles=array(); var $mustHaveFiles=array(); var $allowDelete=FALSE; var $allowDownload=FALSE; var $autoUpload=FALSE; var $multipleUpload=FALSE; var $_glw=''; var $_gOw=''; var $dragAndDrop=TRUE; var $peclUploadProgress=FALSE; function __construct($_glx) { $this->id =$_glx; $_gOx=""; if ( isset ($_POST[$_glx."_uploade\144\106iles"])) { $_gOx=$_POST[$_glx."_\165\160\154oaded\106\151\154es"]; } else if ( isset ($_GET[$_glx."\056\165ploaded\106\151\154es"])) { $_gOx=$_GET[$_glx."_uplo\141\144\145dFile\163"]; } $_gOx=trim(trim($_gOx,"\133|-"),"-\174\135"); if (strlen($_gOx)>0) { $_gly=explode("\055\174][|-",$_gOx); foreach ($_gly as $_gOy) { $_glz=explode("\055\174-",$_gOy); $_gOz=array("\156\141me" => $_glz[0],"\164\171pe" => $_glz[1],"\163\151ze" => $_glz[2]); array_push($this->uploadedFiles ,$_gOz); } } } function loadxml($_gl10) { if (gettype($_gl10) == "\163\164ring") { $_gO10=new domdocument(); $_gO10->loadxml($_gl10); $_gl10=$_gO10->documentElement; } $_glx=$_gl10->getattribute("\151\144"); if ($_glx != "") $this->id =$_glx; $_gl11=$_gl10->getattribute("\163\164yleFolde\162"); if ($_gl11 != "") $this->styleFolder =$_gl11; } function handleupload() { $_gO11=''; $_gl12=new kooluploadhandler(); $_gl12->targetFolder ="\056\056/../Tem\160"; $_gl12->allowedExtension ="\147if,jpg\054\144\157c,pd\146\054txt"; $_gO11.=$_gl12->handleupload(); return $_gO11; } function render() { $_gO12="\n\074!--Ko\157\154\125ploa\144\145\162 ver\163\151\157n ".$this->_gl0." -\040\167\167w.ko\157\154\160hp.n\145\164\040-->\n"; $_gO12.=$this->registercss(); $_gO12.=$this->renderuploader(); $_gl13= isset ($_POST["\137\137koolaj\141\170"]) || isset ($_GET["\137_koolaja\170"]); $_gO12.=($_gl13) ? "": $this->registerscript(); $_gO12.="<script\040\164ype='\164\145\170t/j\141\166\141scri\160\164'>"; $_gO12.=$this->startupscript(); $_gO12.="</\163\143\162ipt>"; return $_gO12; } function renderuploader() { $this->_gO13(); $tpl_main="\173c\157\156\164ainer\175\173\142tnAd\144\175\173btnC\154\145arAl\154\175\173btn\125\160loadAl\154\175"; $tpl_btnAdd="\173bt\156\143\157nten\164\175"; $tpl_btnUploadAll="\173\142\164ncont\145\156\164}"; $tpl_btnClearAll="\173\142\164ncont\145\156\164}"; $tpl_btnUpload="\173\142\164nconte\156\164\175"; $tpl_btnRemove="\173\142tnconten\164\175"; $_gl14="\173btnc\157\156\164ent}"; $tpl_btnDelete="\173\142\164nconten\164\175"; include "styles"."\057".$this->_gOv."\057".$this->_gOv."\056\164pl"; $this->_glw =$error_message1; $this->_gOw =$error_message2; $_gO14="\074\144iv id='\173\151d}' cla\163\163='kulT\145\155plate\047\040styl\145\075'disp\154\141\171:non\145\073'>\173c\157\156\164ent\175\074/div\076"; $_gl15="<div\040\151d='\173i\144\175\056con\164\141\151ner'\040\143lass=\047\153ulC\157\156tainer\047\076</div>"; $_gO15="\074div class\075\047kulIte\155\047>\173tp\154\137\151tem\175\074/div\076"; $_gl16="\074span c\154\141\163s='k\165\154\124ext'\076\173text}\074\057span\076"; $_gO16="<input\040\164\171pe='\150\151\144den' \151\144='\173i\144\175\137up\154\157aded\106\151les' n\141\155\145='\173\151\144}_uplo\141\144edFil\145\163\047 />"; $_gl17="\074\163pan id='\173\151\144}.bt\156\056add' \143\154\141ss='\153\165lAdd\047\076<a cl\141\163\163='ku\154\101\047>\173\164\160\154_bt\156\101\144d}</\141\076</span\076"; $_gO17="<s\160\141\156 clas\163\075'kulFi\154\145\047><i\156\160\165t i\144\075'\173i\144\175\047 typ\145\075'file'\040\057></spa\156\076"; $_gl18="\074span id=\047\173\151d}.b\164\156\056uplo\141\144all' \143\154\141ss=\047\153ulUplo\141\144All'><\141\040\143lass\075\047kulA'\076\173tpl_bt\156\125ploadA\154\154\175</a>\074\057span>"; $_gO18="\074\163pan id='\173\151\144}.bt\156\056clear\141\154\154' cl\141\163s='k\165\154ClearA\154\154\047><a\040\143\154ass=\047\153ulA'>\173\164\160l_bt\156\103\154earA\154\154}</a><\057\163pan>"; $_gl19="<spa\156\040\143lass=\047\153ulUpl\157\141\144'><a\040\164itle=\047\125plo\141\144\047 cl\141\163\163='ku\154\101\040kul\055\151con ku\154\055uploa\144\137\142rown\047\076\173tpl\137\142tnUplo\141\144}</a><\057\163pan>"; $_gO19="\074\163pan c\154\141\163s='k\165\154\122emov\145\047><a t\151\164le='R\145\155ove' c\154\141ss='ku\154\101\040kul-\151\143on kul\055\155inus_\147\162\145y'>\173\164\160l_btn\122\145move}<\057\141></spa\156\076"; $_gl1a="\074span cl\141\163\163='ku\154\103\141ncel\047\076<a ti\164\154e='Ca\156\143el' c\154\141ss='ku\154\101\040kul-\151\143on kul\055\143ross-g\162\145y-16'>\173\164\160l_bt\156\103ancel}\074\057a></s\160\141\156>"; $_gO1a="\074\163pan cl\141\163\163='ku\154\104\145lete\047\076<a ti\164\154e='De\154\145te' c\154\141\163s='k\165\154\101 kul\055\151\143on k\165\154-cross\055\147rey-16\047\076\173tpl\137\142tnDele\164\145\175</a>\074\057span>"; $_gl1b="<span c\154\141\163s='ku\154\106\151leNa\155\145'> </s\160\141n>"; if (!empty($this->mustHaveFiles)) { $_gO1b="<s\145\154\145ct cl\141\163\163='ku\154\104\145scri\160\164ion'>\173\157ption\163\175</sele\143\164>"; $_gl1c='"<option></option>";'; foreach ($this->mustHaveFiles as $_gO1c) $_gl1c.= "\074\157ption v\141\154\165e='$_gO1c\047\076$_gO1c</\157\160\164ion>"; $_gO1b=_gO2("\173\157\160tions}",$_gl1c,$_gO1b); } else $_gO1b=''; $_gl1d="\074\163pan cla\163\163\075'kul\120\162ogress\047\076<img \143\154ass=\047\153ulBar\040\173\141ltba\162\175\047 \173\163\164\171le}\040\141lt=''/\076\074span \143\154\141ss='\153\165lText'\076\040</spa\156\076</span\076"; $_gO1d="<spa\156\040class=\047\153ulSta\164\165s'> <\057\163pan>"; $_gl1e="\074\163pan cla\163\163='kulT\150\165mbnai\154\047> </s\160\141n>"; $_gO1e=_gO2("\173id\175",$this->id.".messa\147\145\056uplo\141\144\137succ\145\163\163ful",$_gO14); $_gO1e=_gO2("\173\143onten\164\175",$this->texts["MESSAG\105\137UPLOA\104\137\123UCC\105\123SFUL"],$_gO1e); $_gl1f=_gO2("\173\151d}",$this->id."\056\155essa\147\145.uploa\144\137faile\144",$_gO14); $_gl1f=_gO2("\173\143onte\156\164\175",$this->texts["\115ESSAGE\137\125PLOAD_\106\101ILED"],$_gl1f); $_gO1f=_gO2("\173\151\144\175",$this->id.".messa\147\145\056fil\145\137not_a\154\154owed",$_gO14); $_gO1f=_gO2("\173conte\156\164}",$this->texts["MESSA\107\105\137FILE_\116\117\124_ALLO\127\105D"],$_gO1f); $_gl1g=_gO2("\173id}",$this->id."\056messa\147\145\056file\137\142\151gger\137\164han_ph\160\137all\157\167",$_gO14); $_gl1g=_gO2("\173content}",$this->texts["MESSA\107\105\137FILE_\102\111\107GER_\124\110\101N_PH\120\137ALLOW"],$_gl1g); $_gO1g=_gO2("\173\151d}",$this->id."\056messa\147\145\056file\137\142\151gger\137\164\150an_f\157\162m_al\154\157w",$_gO14); $_gO1g=_gO2("\173cont\145\156\164}",$this->texts["MESSA\107\105\137FILE_\102\111\107GER_\124\110\101N_FO\122\115_ALLO\127"],$_gO1g); $_gl1h=_gO2("\173id}",$this->id.".messa\147\145\056only\137\160\141rt_o\146\137\146ile_\165\160\154oad\145\144",$_gO14); $_gl1h=_gO2("\173cont\145\156\164}",$this->texts["\115ESSAGE_\117\116\114Y_PAR\124\137OF_FIL\105\137\125PLOA\104\105D"],$_gl1h); $_gO1h=_gO2("\173\151d}",$this->id."\056\155essage.u\160\154\157ad_c\141\156cel",$_gO14); $_gO1h=_gO2("\173\143\157ntent}",$this->texts["\115\105\123SAGE_U\120\114\117AD_C\101\116\103EL"],$_gO1h); $_gl1i=_gO2("\173id}",$this->id."\056\155essage.d\145\154eted",$_gO14); $_gl1i=_gO2("\173con\164\145\156t}",$this->texts["\115ESSAGE\137\104\105LETED"],$_gl1i); $_gO1i=_gO2("\173i\144\175",$this->id."\056templ\141\164\145.item",$_gO14); $_gO1i=_gO2("\173\143ontent}",$_gO15,$_gO1i); $_gO1i=_gO2("\173tpl_item\175",$tpl_item,$_gO1i); $_gl1j=_gO2("\173\164\160l_btn\122\145\155ove\175",$tpl_btnRemove,$_gO19); $_gl1j=_gO2("\173\142\164ncont\145\156\164}",$this->texts["B\125\124\124ON_RE\115\117\126E"],$_gl1j); $_gO1j=_gO2("\173tpl\137\142\164nUpl\157\141\144}",$tpl_btnUpload,$_gl19); $_gO1j=_gO2("\173\142\164ncont\145\156\164}",$this->texts["\102UTTON_U\120\114\117AD"],$_gO1j); $_gl1k=_gO2("\173\164\160l_btnCa\156\143\145l}",$tpl_btnUpload,$_gl1a); $_gl1k=_gO2("\173\142\164\156cont\145\156\164}",$this->texts["\102UTTON\137\103\101NCEL"],$_gl1k); $_gO1k=_gO2("\173\164\160l_bt\156\104elete}",$tpl_btnDelete,$_gO1a); $_gO1k=_gO2("\173\142\164ncon\164\145nt}",$this->texts["BUT\124\117\116_DEL\105\124E"],$_gO1k); $_gO1i=_gO2("\173\142\164nUpload\175",$_gO1j,$_gO1i); $_gO1i=_gO2("\173\142\164nRemov\145\175",$_gl1j,$_gO1i); $_gO1i=_gO2("\173\142tnCanc\145\154}",$_gl1k,$_gO1i); $_gO1i=_gO2("\173btnDele\164\145}",$_gO1k,$_gO1i); $_gO1i=_gO2("\173\146ilen\141\155e}",$_gl1b,$_gO1i); $_gO1i=_gO2("\173\144\145scri\160\164\151on}",$_gO1b,$_gO1i); $_gO1i=_gO2("\173\163tatus}",$_gO1d,$_gO1i); $_gO1i=_gO2("\173\164humbn\141\151\154}",$_gl1e,$_gO1i); $_gl1l=_gO2("\173st\171\154eFo\154\144er\175",$this->styleFolder ,$_gl1d); $_gl1l=_gO2("\173\141ltbar\175",($this->progressTracking) ? (intval(ini_get('session.upload_progress.enabled')) ? "": "kul\101\154tBar"): "\153\165lAltBar",$_gl1l); $_gl1l=_gO2("\173st\171\154\145}",($this->showProgressBar) ? "": "style\075\047display\072\156one;'",$_gl1l); $_gO1i=_gO2("\173\160\162ogres\163\175",$_gl1l,$_gO1i); $_gO1l=_gO2("\173\151d}",$this->id ,$_gl17); $_gO1l=_gO2("\173tpl_\142\164nAdd}",$tpl_btnAdd,$_gO1l); $_gO1l=_gO2("\173btncon\164\145\156t}",$this->texts["\102UTTON_\101\104\104"],$_gO1l); $_gl1m=_gO2("\173\151\144\175",$this->id ,$_gl18); $_gl1m=_gO2("\173tpl_\142\164nUp\154\157ad\101\154l}",$tpl_btnUploadAll,$_gl1m); $_gl1m=_gO2("\173\142\164nco\156\164en\164\175",$this->texts["BUTT\117\116_UPL\117\101D_\101\114L"],$_gl1m); $_gO1m=_gO2("\173\151\144}",$this->id ,$_gO18); $_gO1m=_gO2("\173\164pl\137\142tn\103\154ear\101ll}",$tpl_btnClearAll,$_gO1m); $_gO1m=_gO2("\173\142\164nco\156\164en\164\175",$this->texts["\102UTT\117\116\137CLEAR\137\101LL"],$_gO1m); $_gl1n=_gO2("\173\151\144}",$this->id ,$_gl15); $_gO1n=_gO2("\173co\156\164ain\145\162}",$_gl1n,$tpl_main); $_gO1n=_gO2("\173btnAd\144\175",$_gO1l,$_gO1n); $_gO1n=_gO2("\173b\164nUpload\101ll}",$_gl1m,$_gO1n); $_gO1n=_gO2("\173btnCle\141\162All}",$_gO1m,$_gO1n); $_gl8=_gO2("\173i\144\175",$this->id ,_gl7()); $_gl8=_gO2("\173st\171le}",$this->_gOv ,$_gl8); $_gl8=_gO2("\173\167idth}",$this->width ,$_gl8); $_gl8=_gO2("\173\150\145ight\175",$this->height ,$_gl8); if (_gO7($_gl8)) { $_gl8=_gO2("\173\164\145mpla\164\145s}",$_gO1e.$_gO1f.$_gl1f.$_gO1i.$_gl1g.$_gO1g.$_gl1h.$_gO1h.$_gl1i,$_gl8); } $_gl8=_gO2("\173\166\145rsion}",$this->_gl0 ,$_gl8); $_gl8=_gO2("\173m\141\151nconten\164\175",$_gO1n,$_gl8); $_gl8=_gO2("\173\165pload\145\144Files}",_gO2("\173\151\144}",$this->id ,$_gO16),$_gl8); return $_gl8; } function _gO13() { $this->styleFolder =_gO2("\134","/",$this->styleFolder); $_gl11=trim($this->styleFolder ,"/"); $_gl1o=strrpos($_gl11,"\057"); $this->_gOv =substr($_gl11,($_gl1o ? $_gl1o: -1)+1); } function registercss() { $this->_gO13(); $_gO1o="\074\163cript\040\164ype='t\145\170t/ja\166\141scrip\164\047>if\040\050do\143\165ment\056\147etEle\155\145ntById\050\047__\173\163\164yle\175\113UL')=\075\156ull)\173\166\141r _\150\145\141d =\040\144ocume\156\164.getE\154\145ments\102\171TagN\141\155\145('\150\145a\144')\1330];\166\141r \137\154ink\040=\040docu\155\145nt\056crea\164\145El\145\155e\156\164('\154\151nk'\051\073 _\154\151nk\056\151d \075\040'_\137\173st\171\154e}\113\125L'\073\137li\156\153.r\145\154='\163\164yl\145\163h\145\145t'\073\040_l\151n\153\056hr\145\146=\047\173st\171\154ep\141\164h}\057\173s\164\171le\175\057\173\163tyl\145\175.c\163\163';\137\150ea\144\056ap\160\145nd\103hil\144\050_\154\151nk\051; _\154\151nk\040= d\157\143u\155\145nt\056cre\141\164e\105\154em\145nt(\047\154ink'\051\073 _\154\151nk.i\144\040= '\137\137KUL'\073\137lin\153\056rel\075\047st\171les\150\145et\047\073 \137\154in\153\056h\162e\146\075'\173sty\154\145pa\164\150}\057\153o\157\154up\154\157a\144\145r\056css\047;_h\145\141d\056\141p\160en\144Ch\151ld\050_\154i\156k)\073}<\057scr\151pt>"; $_gO12=_gO2("\173styl\145\175",$this->_gOv ,$_gO1o); $_gO12=_gO2("\173\163tyle\160\141th}",$this->_gl1p(),$_gO12); return $_gO12; } function registerscript($_gO1p=TRUE) { $this->_gO13(); if ($_gO1p) { $_gO1o="\074s\143\162ipt\040type\075'te\170\164/\152\141v\141\163c\162\151p\164'>\151\146(\164\171pe\157\146 \137\154ib\113UL==\047und\145fin\145\144')\173\144oc\165\155en\164.wri\164\145(u\156\145sc\141\160e\050\042%3\103\163cr\151\160t\040\164y\160\145='\164\145x\164\057j\141\166a\163cri\160\164'\040src\075'\173\163rc\175\047%\063E %\063C/\163\143r\151pt%\063E\042\051);\137lib\113UL=\061;}"; $_gO1o.="if(typ\145\157f \173\163tyl\145\175KU\114\111n\151\164==\047und\145\146i\156\145d'\051\173do\143\165men\164\056writ\145\050unesc\141\160e(\042\045\063Csc\162\151pt ty\160\145='tex\164\057javas\143\162ipt' \163\162c='\173\163\164ylep\141\164h}/\173\163\164yle}\057\173styl\145\175.js'\045\063E %3\103\057scri\160\164%3E\042\051\051;}<\057\163crip\164\076"; } else $_gO1o="\074\163cript\040\164ype='\164\145xt/ja\166\141scrip\164\047>if\050\164ype\157\146 _lib\113\125L=='u\156\144\145fin\145\144')\173d\157\143umen\164\056write\050\165nesca\160\145(\042%\063\103scrip\164\040type\075\047text\057\152avasc\162\151pt' s\162\143='\173\163\162c}'%\063\105 %3C\057\163crip\164\0453E\042\051\051;_li\142\113UL=1\073\175</scr\151\160t>"; $_gO12=_gO2("\173\163rc}",$this->_gl1q()."\077".md5("\152s"),$_gO1o); $_gO12=_gO2("\173style}",$this->_gOv ,$_gO12); $_gO12=_gO2("\173st\171\154\145pat\150\175",$this->_gl1p(),$_gO12); return $_gO12; } function startupscript() { $this->_gO13(); $_glz=array('id' => $this->id ,'handlePage' => $this->handlePage ,'upload' => md5( __FILE__."upload"),'status' => md5( __FILE__."status"),'progress' => md5( __FILE__."\160rogr\145\163s"),'del' => md5( __FILE__."\144\145\154ete"),'download' => md5( __FILE__."d\157\167nload"),'updateProgressInterval' => $this->updateProgressInterval ,'peclUploadProgress' => ($this->peclUploadProgress) ? (function_exists("up\154\157\141dpro\147\162\145ss_g\145\164_info") ? TRUE: FALSE): FALSE,'progressTracking' => ($this->progressTracking) ? (intval(ini_get('session.upload_progress.enabled')) ? TRUE: FALSE): FALSE,'progressTrackingName' => ini_get("ses\163\151\157n.upl\157\141\144_pro\147\162ess.na\155\145"),'maxFileSize' => $this->maxFileSize ,'allowedExtension' => $this->allowedExtension ,'targetFolder' => $this->targetFolder ,'currentFiles' => $this->currentFiles ,'mustHaveFiles' => $this->mustHaveFiles ,'allowDelete' => $this->allowDelete ,'allowDownload' => $this->allowDownload ,'autoUpload' => $this->autoUpload ,'multipleUpload' => $this->multipleUpload ,'errorMessage1' => $this->_glw ,'errorMessage2' => $this->_gOw ,'dragAndDrop' => $this->dragAndDrop ,); $_gO1q="\166\141r uploa\144\137progre\163\163_name\075\047".ini_get("\163\145ssion.u\160\154\157ad_p\162\157gress.\156\141\155e")."\047\073 var \173\151\144}=ne\167\040KoolU\160\154\157ade\162\050\173in\146\157});"; $_gO12=_gO2("\173id}",$this->id ,$_gO1q); $_gO12=_gO2("\173sty\154\145\175",$this->_gOv ,$_gO12); $_gO12=_gO2("\173\151nfo}",json_encode($_glz),$_gO12); return $_gO12; } function _gl1q() { if ($this->scriptFolder == "") { $_gO3=_gO1(); $_glq=substr(_gO2("\134","/",__FILE__),strlen($_gO3)); return $_glq; } else { $_glq=_gO2("\134","\057",__FILE__); $_glq=$this->scriptFolder.substr($_glq,strrpos($_glq,"\057")); return $_glq; } } function _gl1p() { $_gl1r=$this->_gl1q(); $_gO1r=_gO2(strrchr($_gl1r,"\057"),"",$_gl1r)."/s\164\171\154es"; return $_gO1r; } } } ?> 
